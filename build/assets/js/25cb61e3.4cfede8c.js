"use strict";(self.webpackChunkyana_github_io=self.webpackChunkyana_github_io||[]).push([[6392],{83692:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});var i=s(74848),r=s(28453);const l={slug:"Vue\u4e0eaxios",title:"Vue\u4e0eaxios",tags:["Vue","axios","promise"],authors:"yana"},a=void 0,t={permalink:"/vue/Vue\u4e0eaxios",source:"@site/vue/2020-03-31-Vue\u4e0eaxios.md",title:"Vue\u4e0eaxios",description:"\u5f02\u6b65\u8c03\u7528",date:"2020-03-31T00:00:00.000Z",tags:[{inline:!0,label:"Vue",permalink:"/vue/tags/vue"},{inline:!0,label:"axios",permalink:"/vue/tags/axios"},{inline:!0,label:"promise",permalink:"/vue/tags/promise"}],readingTime:6.115,hasTruncateMarker:!1,authors:[{name:"Yana Ching",title:"Front End Engineer",url:"https://yamadev.github.io/",imageURL:"https://github.com/yanadev.png",key:"yana",page:null}],frontMatter:{slug:"Vue\u4e0eaxios",title:"Vue\u4e0eaxios",tags:["Vue","axios","promise"],authors:"yana"},unlisted:!1,nextItem:{title:"Vue\u5355\u6587\u4ef6\u7ec4\u4ef6",permalink:"/vue/Vue\u5355\u6587\u4ef6\u7ec4\u4ef6"}},o={authorsImageUrls:[void 0]},c=[{value:"\u5f02\u6b65\u8c03\u7528",id:"\u5f02\u6b65\u8c03\u7528",level:2},{value:"Promise",id:"promise",level:3},{value:"\u8fd4\u56de\u503c\uff1a \u4f7f\u7528 Promise \u53ef\u4ee5\u8fd4\u56de Promise\u5bf9\u8c61\u6216\u8005\u76f4\u63a5\u8fd4\u56de\u6570\u636e",id:"\u8fd4\u56de\u503c-\u4f7f\u7528-promise-\u53ef\u4ee5\u8fd4\u56de-promise\u5bf9\u8c61\u6216\u8005\u76f4\u63a5\u8fd4\u56de\u6570\u636e",level:4},{value:"Promise \u5e38\u7528 API",id:"promise-\u5e38\u7528-api",level:2},{value:"\u5b9e\u4f8b\u65b9\u6cd5",id:"\u5b9e\u4f8b\u65b9\u6cd5",level:3},{value:"\u9759\u6001\u65b9\u6cd5",id:"\u9759\u6001\u65b9\u6cd5",level:3},{value:"fetch",id:"fetch",level:2},{value:"axios",id:"axios",level:2},{value:"axios \u5e38\u7528 API",id:"axios-\u5e38\u7528-api",level:3},{value:"GET\u4f20\u9012\u53c2\u6570",id:"get\u4f20\u9012\u53c2\u6570",level:3},{value:"DELETE\u4f20\u9012\u53c2\u6570",id:"delete\u4f20\u9012\u53c2\u6570",level:3},{value:"POST\u4f20\u9012\u53c2\u6570",id:"post\u4f20\u9012\u53c2\u6570",level:3},{value:"axios \u54cd\u5e94\u7ed3\u679c",id:"axios-\u54cd\u5e94\u7ed3\u679c",level:3},{value:"axios \u5168\u5c40\u914d\u7f6e",id:"axios-\u5168\u5c40\u914d\u7f6e",level:2},{value:"axios\u62e6\u622a\u5668",id:"axios\u62e6\u622a\u5668",level:2},{value:"\u8bf7\u6c42\u62e6\u622a\u5668",id:"\u8bf7\u6c42\u62e6\u622a\u5668",level:3},{value:"\u54cd\u5e94\u62e6\u622a\u5668",id:"\u54cd\u5e94\u62e6\u622a\u5668",level:3}];function d(e){const n={blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"\u5f02\u6b65\u8c03\u7528",children:"\u5f02\u6b65\u8c03\u7528"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5f02\u6b65\u6548\u679c","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5b9a\u65f6\u4efb\u52a1"}),"\n",(0,i.jsx)(n.li,{children:"AJAX"}),"\n",(0,i.jsx)(n.li,{children:"\u4e8b\u4ef6\u51fd\u6570"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u591a\u6b21\u5f02\u6b65\u8c03\u7528\u7684\u4f9d\u8d56\u5206\u6790","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u591a\u6b21\u5f02\u6b65\u8c03\u7528\u7684\u7ed3\u679c\u987a\u5e8f\u4e0d\u786e\u5b9a"}),"\n",(0,i.jsx)(n.li,{children:"\u5f02\u6b65\u8c03\u7528\u7ed3\u679c\u5982\u679c\u5b58\u5728\u4f9d\u8d56\u9700\u8981\u5d4c\u5957\uff08\u4f1a\u5bfc\u81f4 => \u56de\u8c03\u5730\u72f1\uff09"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"promise",children:"Promise"}),"\n",(0,i.jsxs)(n.p,{children:["\u5f02\u6b65\u7f16\u7a0b\u7684\u89e3\u51b3\u65b9\u6848\uff0c",(0,i.jsx)(n.code,{children:"Promise"})," \u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u83b7\u53d6\u5f02\u6b65\u64cd\u4f5c\u7684\u6d88\u606f"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u907f\u514d\u591a\u5c42\u5f02\u6b65\u8c03\u7528\u5d4c\u5957\u95ee\u9898\uff08\u56de\u8c03\u5730\u72f1\uff09"}),"\n",(0,i.jsx)(n.li,{children:"Promise \u5bf9\u8c61\u63d0\u4f9b\u4e86\u7b80\u6d01\u7684 API\uff0c\u4f7f\u5f97\u63a7\u5236\u5f02\u6b65\u64cd\u4f5c\u66f4\u52a0\u7b80\u5355"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u8fd4\u56de\u503c-\u4f7f\u7528-promise-\u53ef\u4ee5\u8fd4\u56de-promise\u5bf9\u8c61\u6216\u8005\u76f4\u63a5\u8fd4\u56de\u6570\u636e",children:"\u8fd4\u56de\u503c\uff1a \u4f7f\u7528 Promise \u53ef\u4ee5\u8fd4\u56de Promise\u5bf9\u8c61\u6216\u8005\u76f4\u63a5\u8fd4\u56de\u6570\u636e"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u5982\u679c\u8fd4\u56de Promise \u5bf9\u8c61\uff0c\u5219\u7531\u8be5 Promise \u5bf9\u8c61\u8c03\u7528\u4e0b\u4e00\u4e2athen"}),"\n",(0,i.jsx)(n.li,{children:"\u5982\u679c\u76f4\u63a5\u8fd4\u56de \u666e\u901a\u503c\uff0c\u5219\u9ed8\u8ba4\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 Promise \u5bf9\u8c61\u53bb\u8c03\u7528\u4e0b\u4e00\u4e2athen"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<script>\n    // 1. \u5904\u7406\u539f\u751f AJAX\n    function queryData(url) {\n    \n        return new Promise(function(resolve, reject) {\n            var xhr =new XMLHttpRequest()\n            xhr.onreadystatechange = function() {\n                if(xhr.readyState != 4) return\n                if(xhr.status === 200) {\n                    resolve(xhr.responseText)\n                }else{\n                    reject('ERROR!')\n                }\n            }\n            xhr.open('get', url)\n            xhr.send('key1=value1&value2=key2')\n        })\n    \n    }\n    // queryData('http://site01.com/vue01/users.php').then(function(data) {\n    //  console.log(data)\n    // })\n    // ==============================================\n    // \u53d1\u9001\u591a\u6b21 AJAX \u8bf7\u6c42\u5e76\u4e14\u4fdd\u8bc1\u987a\u5e8f\n    // \u4fdd\u8bc1\u94fe\u5f0f\u7f16\u7a0b\uff0c\u907f\u514d\u56de\u8c03\u5730\u72f1\n    // \u4f7f\u7528 Promise \u53ef\u4ee5\u8fd4\u56de Promise\u5bf9\u8c61\u6216\u8005\u76f4\u63a5\u8fd4\u56de\u6570\u636e\n    // 1. \u5982\u679c\u8fd4\u56de Promise \u5bf9\u8c61\uff0c\u5219\u7531\u8be5 Promise \u5bf9\u8c61\u8c03\u7528\u4e0b\u4e00\u4e2athen\n    // 2. \u5982\u679c\u76f4\u63a5\u8fd4\u56de \u666e\u901a\u503c\uff0c\u5219\u9ed8\u8ba4\u4ea7\u751f\u4e00\u4e2a\u65b0\u7684 Promise \u5bf9\u8c61\u53bb\u8c03\u7528\u4e0b\u4e00\u4e2athen\n    queryData('http://site01.com/vue01/users.php?id=2').then(function(data) {\n        console.log(data)\n        return queryData('http://site01.com/vue01/time.php') // \u8fd4\u56de \u7b2c\u4e8c\u6b21\u8bf7\u6c42 promise\u5bf9\u8c61\n    }).then(function(data) {\n        console.log(data)\n        return queryData('http://site01.com/vue01/users.php?id=20') // \u8fd4\u56de \u7b2c\u4e09\u6b21\u8bf7\u6c42 promise\u5bf9\u8c61\n    }).then(function(data) {\n        console.log(data)\n        return '\u7b2c\u4e09\u6b21\u8bf7\u6c42' // \u8fd4\u56de\u6570\u636e\uff0c\u5219\u4e0b\u4e00\u4e2athen\u63a5\u6536\u8be5\u53c2\u6570\n    }).then(function(data) {\n        console.log(data+\"-------\")\n    })\n<\/script>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"promise-\u5e38\u7528-api",children:"Promise \u5e38\u7528 API"}),"\n",(0,i.jsx)(n.h3,{id:"\u5b9e\u4f8b\u65b9\u6cd5",children:"\u5b9e\u4f8b\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"p.then() \u5f97\u5230\u5f02\u6b65\u4efb\u52a1\u7684\u6b63\u786e\u7ed3\u679c"}),"\n",(0,i.jsx)(n.li,{children:"p.catch() \u5f97\u5230\u5f02\u5e38\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"p.finally() \u6210\u529f\u4e0e\u5426\u90fd\u4f1a\u6267\u884c"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u9759\u6001\u65b9\u6cd5",children:"\u9759\u6001\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Promise.all( [ ] )"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Promise.race( [ ] )"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<script>\n    function queryData(url) {\n        return new Promise(function(resolve, reject) {\n            var xhr = new XMLHttpRequest()\n            xhr.onreadystatechange = function() {\n                if(xhr.readyState != 4) return \n                if(xhr.readyState == 4 && xhr.status == 200) {\n                    resolve(xhr.responseText)\n                }else{\n                    reject('\u670d\u52a1\u5668\u9519\u8bef')\n                }\n            }\n            xhr.open('get', url)\n            xhr.send('key1=value1&key2=value2')\n        })\n    }\n    var p1 = queryData('http://site01.com/vue01/users.php?id=2')\n    var p2 = queryData('http://site01.com/vue01/users.php?id=4')\n    var p3 = queryData('http://site01.com/vue01/users.php?id=6')\n    Promise.all([p1, p2, p3]).then(function(result) {\n        console.log(result)\n        return Promise.race([p1, p2, p3])\n    })\n    .then(function(res) {\n        console.log(res)\n    })\n<\/script>\n<script type=\"text/plain\">\n    1. \u6570\u7ec4\u4e2d\u5bf9\u8c61 \u5747\u4e3a promise \u5b9e\u4f8b\uff08\u5982\u679c\u4e0d\u662f\uff0c\u5219\u9ed8\u8ba4\u4f7f\u7528 Promise.resolve \u8f6c\u4e3a promise \u5b9e\u4f8b\uff09\n    2. Promise.all([]) \u63a5\u6536 \u6570\u7ec4 \u505a\u53c2\u6570\n    3. Promise.race([]) \u63a5\u6536 \u6570\u7ec4 \u4f5c\u53c2\u6570\uff0c\u5f53\u6570\u7ec4\u5b9e\u4f8b\u5bf9\u8c61\u72b6\u6001\u6539\u53d8\uff08fulfilled\u6216rejected\uff09\u7684\u65f6\u5019\uff0cp\u5b9e\u4f8b\u7684\u72b6\u6001\u8ddf\u7740\u6539\u53d8\uff0c\u8fd4\u56de\u7b2c\u4e00\u4e2a\u6539\u53d8\u72b6\u6001\u7684promise\u7684\u8fd4\u56de\u503c\uff0c\u4f20\u7ed9 p \u7684\u56de\u8c03\u51fd\u6570\n    4. all() \u6240\u6709\u4efb\u52a1\u90fd\u6267\u884c\u624d\u6709\u7ed3\u679c return array\n    5. race() \u53ea\u8981\u6709\u4e00\u4e2a\u5b8c\u6210\u4efb\u52a1\u5c31\u6709\u7ed3\u679c return object\n<\/script>\n"})}),"\n",(0,i.jsx)(n.h2,{id:"fetch",children:"fetch"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u4e0d\u662f AJAX \u7684 \u8fdb\u4e00\u6b65\u5c01\u88c5\uff0c\u800c\u662f\u539f\u751f js\uff0c\u6ca1\u6709\u4f7f\u7528 XMLHttpRequest \u5bf9\u8c61"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"fetch( url, options ).then( )"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u54cd\u5e94\u683c\u5f0f\u6570\u636e"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"text( ) \u5c06\u8fd4\u56de\u4f53\u5904\u7406\u6210 \u5b57\u7b26\u4e32 \u5f62\u5f0f"}),"\n",(0,i.jsx)(n.li,{children:"json( ) \u8fd4\u56de\u7ed3\u679c\u548c JSON.parse(responseText) \u4e00\u6837"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"axios",children:"axios"}),"\n",(0,i.jsx)(n.p,{children:"\u57fa\u4e8ePromise\u7528\u4e8e\u6d4f\u89c8\u5668\u548c node.js \u7684 HTTP \u5ba2\u6237\u7aef"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u652f\u6301 \u6d4f\u89c8\u5668 \u548c node.js"}),"\n",(0,i.jsx)(n.li,{children:"\u652f\u6301 Promise"}),"\n",(0,i.jsx)(n.li,{children:"\u80fd\u62e6\u622a\u8bf7\u6c42\u548c\u54cd\u5e94"}),"\n",(0,i.jsx)(n.li,{children:"\u81ea\u52a8\u8f6c\u6362 JSON \u6570\u636e"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"axios.get( url )\n    .then(ret=>{\n        // data\u5c5e\u6027\u540d\u79f0\u662f\u56fa\u5b9a\u7684\uff0c\u7528\u6237\u83b7\u53d6\u540e\u53f0\u54cd\u5e94\u7684\u6570\u636e\n        console.log(ret.data)\n    })\n"})}),"\n",(0,i.jsx)(n.h3,{id:"axios-\u5e38\u7528-api",children:"axios \u5e38\u7528 API"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"get\uff1a     \u67e5\u8be2\u6570\u636e"}),"\n",(0,i.jsx)(n.li,{children:"post\uff1a    \u6dfb\u52a0\u6570\u636e"}),"\n",(0,i.jsx)(n.li,{children:"put\uff1a     \u4fee\u6539\u6570\u636e"}),"\n",(0,i.jsx)(n.li,{children:"delete\uff1a  \u5220\u9664\u6570\u636e"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"get\u4f20\u9012\u53c2\u6570",children:"GET\u4f20\u9012\u53c2\u6570"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u901a\u8fc7 URL \u4f20\u9012\u53c2\u6570"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"axios.get('/data?id=123')\n .then(ret=>{\n     console.log(ret.data)\n})\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"axios.get('/data/123')\n .then(ret=>{\n     console.log(ret.data)\n})\n// restful\u683c\u5f0f\u8bf7\u6c42\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u901a\u8fc7 params \u9009\u9879\u4f20\u9012\u53c2\u6570"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"axios.get('/data', {\n    params: {\n        id: 123\n    }\n})\n.then(ret=>{\n    console.log(ret.data)\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"delete\u4f20\u9012\u53c2\u6570",children:"DELETE\u4f20\u9012\u53c2\u6570"}),"\n",(0,i.jsx)(n.p,{children:"\u53c2\u6570\u4f20\u9012\u65b9\u5f0f\u4e0e GET \u7c7b\u4f3c"}),"\n",(0,i.jsx)(n.h3,{id:"post\u4f20\u9012\u53c2\u6570",children:"POST\u4f20\u9012\u53c2\u6570"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u901a\u8fc7\u9009\u9879\u4f20\u9012\u53c2\u6570\uff08\u9ed8\u8ba4 json\u683c\u5f0f\u7684\u6570\u636e\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"axios.post('/data', {\n    uname: 'tom',\n    pwd: 123\n}).then(ret=>{\n    console.log(ret.data)\n})\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u901a\u8fc7 URLSearchParams \u4f20\u9012\u53c2\u6570\uff08application/x-www-form-urlencoded \u8868\u5355\u683c\u5f0f\u6570\u636e - \u952e\u503c\u5bf9\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"var params = new URLSearchParams()\nparams.append('uname', 'zhangsan')\nparams.append('pwd', '111')\naxios.post('http://site01.com/vue01/test.php/44', params)\n    .then(function(ret){ \xa0 \xa0 \xa0\n        console.log(ret.data) \xa0  \n    })\n"})}),"\n",(0,i.jsx)(n.p,{children:"####### PUT \u4f20\u9012\u53c2\u6570"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"axios.put('/data', {\n    uname: 'tom',\n    pwd: 123\n}).then(ret=>{\n    console.log(ret.data)\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"axios-\u54cd\u5e94\u7ed3\u679c",children:"axios \u54cd\u5e94\u7ed3\u679c"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"data\uff1a\u5b9e\u9645\u54cd\u5e94\u56de\u6765\u7684\u6570\u636e"}),"\n",(0,i.jsx)(n.li,{children:"headers\uff1a\u54cd\u5e94\u5934\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"status\uff1a\u54cd\u5e94\u7801\u4fe1\u606f"}),"\n",(0,i.jsx)(n.li,{children:"statusText\uff1a\u54cd\u5e94\u72b6\u6001\u4fe1\u606f"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"axios-\u5168\u5c40\u914d\u7f6e",children:"axios \u5168\u5c40\u914d\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"- axios.defaults.timeout = 3000; //\u8d85\u65f6\u65f6\u95f4\n- axios.defaults.baseURL = 'http://localhost:3000/app'; //\u9ed8\u8ba4\u5730\u5740\n- axios.defaults.headers['mytoken'] = '*****************' //\u8bbe\u7f6e\u8bf7\u6c42\u5934\n"})}),"\n",(0,i.jsx)(n.h2,{id:"axios\u62e6\u622a\u5668",children:"axios\u62e6\u622a\u5668"}),"\n",(0,i.jsx)(n.h3,{id:"\u8bf7\u6c42\u62e6\u622a\u5668",children:"\u8bf7\u6c42\u62e6\u622a\u5668"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u8bf7\u6c42\u53d1\u9001\u524d\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c \u4f8b\u5982\u5728\u6bcf\u4e2a\u8bf7\u6c42\u4f53\u91cc\u52a0\u4e0atoken\uff0c\u7edf\u4e00\u505a\u4e86\u5904\u7406\u5982\u679c\u4ee5\u540e\u8981\u6539\u4e5f\u975e\u5e38\u5bb9\u6613"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"axios.interceptor.request.use(function(config) {\n    console.log(config.url)\n    // \u4efb\u4f55\u8bf7\u6c42\u90fd\u4f1a\u7ecf\u8fc7\u8fd9\u4e00\u6b65   \u5728\u53d1\u9001\u8bf7\u6c42\u4e4b\u524d\u505a\u4e9b\u4ec0\u4e48 \n    config.header.mytoken = 'hello'\n    // \u8fd9\u91cc\u4e00\u5b9a\u8981return   \u5426\u5219\u914d\u7f6e\u4e0d\u6210\u529f   \n    return config\n}, function(err){\n    console.log(err)\n})\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u54cd\u5e94\u62e6\u622a\u5668",children:"\u54cd\u5e94\u62e6\u622a\u5668"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u63a5\u6536\u5230\u54cd\u5e94\u540e\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c \u4f8b\u5982\u5728\u670d\u52a1\u5668\u8fd4\u56de\u767b\u5f55\u72b6\u6001\u5931\u6548\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55\u7684\u65f6\u5019\uff0c\u8df3\u8f6c\u5230\u767b\u5f55\u9875"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"axios.interceptors.response.use(function(res) {       \n    // \u5728\u63a5\u6536\u54cd\u5e94\u505a\u4e9b\u4ec0\u4e48         \n    var data = res.data     \n    return data\n}, function(err){\n    // \u5bf9\u54cd\u5e94\u9519\u8bef\u505a\u70b9\u4ec0\u4e48\n    console.log(err)     \n})\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var i=s(96540);const r={},l=i.createContext(r);function a(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);