"use strict";(self.webpackChunkyana_github_io=self.webpackChunkyana_github_io||[]).push([[5752],{249:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>g,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var o=n(4848),a=n(8453);const r={slug:"token\u539f\u7406",title:"token\u539f\u7406",tags:["token","auth"],authors:"yana"},s=void 0,i={permalink:"/blog/token\u539f\u7406",editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2020-03-31-token/index.md",source:"@site/blog/2020-03-31-token/index.md",title:"token\u539f\u7406",description:"image-20200320012547012",date:"2020-03-31T00:00:00.000Z",formattedDate:"March 31, 2020",tags:[{label:"token",permalink:"/blog/tags/token"},{label:"auth",permalink:"/blog/tags/auth"}],readingTime:.44,hasTruncateMarker:!1,authors:[{name:"Yana Ching",title:"Front End Engineer",url:"https://yamadev.github.io/",imageURL:"https://github.com/yanadev.png",key:"yana"}],frontMatter:{slug:"token\u539f\u7406",title:"token\u539f\u7406",tags:["token","auth"],authors:"yana"},unlisted:!1,prevItem:{title:"PHP\u6269\u5c55",permalink:"/blog/PHP\u6269\u5c55"},nextItem:{title:"Vue3.0\u811a\u624b\u67b6",permalink:"/blog/Vue3.0\u811a\u624b\u67b6"}},c={authorsImageUrls:[void 0]},l=[];function u(e){const t={blockquote:"blockquote",code:"code",img:"img",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"image-20200320012547012",src:n(7188).A+"",width:"1047",height:"515"})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-js",children:" // \u4e3a\u8def\u7531\u5bf9\u8c61\uff0c\u6dfb\u52a0 beforeEach \u5bfc\u822a\u5b88\u536b  \r\nrouter.beforeEach(\r\n    (to, from, next) => {    \r\n        // \u5982\u679c\u7528\u6237\u8bbf\u95ee\u7684\u767b\u5f55\u9875\uff0c\u76f4\u63a5\u653e\u884c    \r\n        if (to.path === '/login') return next()    \r\n        // \u4ece sessionStorage \u4e2d\u83b7\u53d6\u5230 \u4fdd\u5b58\u7684 token \u503c    \r\n        const tokenStr = window.sessionStorage.getItem('token')    \r\n        // \u6ca1\u6709token\uff0c\u5f3a\u5236\u8df3\u8f6c\u5230\u767b\u5f55\u9875    \r\n        if (!tokenStr) return next('/login') \r\n     next() \r\n }) \n"})}),"\n",(0,o.jsxs)(t.blockquote,{children:["\n",(0,o.jsx)(t.p,{children:"next() // \u653e\u884c"}),"\n",(0,o.jsx)(t.p,{children:"next('/login') // \u5f3a\u5236\u8df3\u8f6c"}),"\n"]})]})}function g(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},7188:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/image-20200320012547012-acbbbe088049cdc79f5053c0286b9089.png"},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>i});var o=n(6540);const a={},r=o.createContext(a);function s(e){const t=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);