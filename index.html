<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">Yana | Yana</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yanadev.github.io/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://yanadev.github.io/img/logo.svg"><meta data-rh="true" property="og:url" content="https://yanadev.github.io/"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" property="og:title" content="Yana | Yana"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://yanadev.github.io/"><link data-rh="true" rel="alternate" href="https://yanadev.github.io/" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://yanadev.github.io/" hreflang="x-default"><script data-rh="true">function insertBanner(){var n=document.createElement("div");n.id="__docusaurus-base-url-issue-banner-container";n.innerHTML='\n<div id="__docusaurus-base-url-issue-banner" style="border: thick solid red; background-color: rgb(255, 230, 179); margin: 20px; padding: 20px; font-size: 20px;">\n   <p style="font-weight: bold; font-size: 30px;">Your Docusaurus site did not load properly.</p>\n   <p>A very common reason is a wrong site <a href="https://docusaurus.io/docs/docusaurus.config.js/#baseUrl" style="font-weight: bold;">baseUrl configuration</a>.</p>\n   <p>Current configured baseUrl = <span style="font-weight: bold; color: red;">/</span>  (default value)</p>\n   <p>We suggest trying baseUrl = <span id="__docusaurus-base-url-issue-banner-suggestion-container" style="font-weight: bold; color: green;"></span></p>\n</div>\n',document.body.prepend(n);var e=document.getElementById("__docusaurus-base-url-issue-banner-suggestion-container"),s=window.location.pathname,o="/"===s.substr(-1)?s:s+"/";e.innerHTML=o}document.addEventListener("DOMContentLoaded",(function(){void 0===window.docusaurus&&insertBanner()}))</script><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://yanadev.github.io/","mainEntityOfPage":"https://yanadev.github.io/","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://yanadev.github.io/windows-share-issues","mainEntityOfPage":"https://yanadev.github.io/windows-share-issues","url":"https://yanadev.github.io/windows-share-issues","headline":"windows网络共享盘无法访问问题","name":"windows网络共享盘无法访问问题","description":"1. 可以在网络看到局域网中的其他主机，双击连接会显示以下错误信息","datePublished":"2025-05-23T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/pm2-use-guide","mainEntityOfPage":"https://yanadev.github.io/pm2-use-guide","url":"https://yanadev.github.io/pm2-use-guide","headline":"pm2使用指南","name":"pm2使用指南","description":"常用命令","datePublished":"2025-02-10T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/alibaba-server-build","mainEntityOfPage":"https://yanadev.github.io/alibaba-server-build","url":"https://yanadev.github.io/alibaba-server-build","headline":"搭建部署云服务器","name":"搭建部署云服务器","description":"本教程适用于 Ubuntu 20.04 / 22.04，主要包含以下内容：","datePublished":"2025-02-10T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/shopify-dev-error","mainEntityOfPage":"https://yanadev.github.io/shopify-dev-error","url":"https://yanadev.github.io/shopify-dev-error","headline":"shopify 启动失败","name":"shopify 启动失败","description":"问题","datePublished":"2024-05-14T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/mern-stack-dev","mainEntityOfPage":"https://yanadev.github.io/mern-stack-dev","url":"https://yanadev.github.io/mern-stack-dev","headline":"MERN 全栈项目搭建","name":"MERN 全栈项目搭建","description":"技术选型","datePublished":"2024-05-06T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/shopify-github-action","mainEntityOfPage":"https://yanadev.github.io/shopify-github-action","url":"https://yanadev.github.io/shopify-github-action","headline":"shopify项目设置自动化部署","name":"shopify项目设置自动化部署","description":"Question","datePublished":"2024-05-04T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/liquid-basic","mainEntityOfPage":"https://yanadev.github.io/liquid-basic","url":"https://yanadev.github.io/liquid-basic","headline":"Shopify Liquid","name":"Shopify Liquid","description":"组成","datePublished":"2024-04-11T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/shopify-themekit-dev","mainEntityOfPage":"https://yanadev.github.io/shopify-themekit-dev","url":"https://yanadev.github.io/shopify-themekit-dev","headline":"shopify Themekit开发","name":"shopify Themekit开发","description":"开发前准备","datePublished":"2024-04-11T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/shopify-theme-dev","mainEntityOfPage":"https://yanadev.github.io/shopify-theme-dev","url":"https://yanadev.github.io/shopify-theme-dev","headline":"shopify 主题开发","name":"shopify 主题开发","description":"初始化项目","datePublished":"2024-04-11T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]},{"@type":"BlogPosting","@id":"https://yanadev.github.io/shopify-start","mainEntityOfPage":"https://yanadev.github.io/shopify-start","url":"https://yanadev.github.io/shopify-start","headline":"启动已有的 shopify 项目","name":"启动已有的 shopify 项目","description":"环境准备","datePublished":"2024-04-10T00:00:00.000Z","author":{"@type":"Person","name":"Yana Ching","description":"Front End Engineer","url":"https://yamadev.github.io/","image":"https://github.com/yanadev.png"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Yana Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/frontend/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/frontend/atom.xml" title="Yana Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/vue/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/vue/atom.xml" title="Yana Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/react/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/react/atom.xml" title="Yana Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/chore/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/chore/atom.xml" title="Yana Atom Feed">

<link rel="alternate" type="application/rss+xml" href="/algorithm/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/algorithm/atom.xml" title="Yana Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/shopify/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/shopify/atom.xml" title="Yana Atom Feed"><link rel="stylesheet" href="/assets/css/styles.24b43391.css">
<script src="/assets/js/runtime~main.20e9b65d.js" defer="defer"></script>
<script src="/assets/js/main.44261c31.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Yana Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Yana Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Yana</b></a><a class="navbar__item navbar__link" href="/docs/intro">ME/Skills</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">最近博客</a><a class="navbar__item navbar__link" href="/shopify">Shopify</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/frontend">前端</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/vue">Vue</a></li><li><a class="dropdown__link" href="/react/react">React</a></li><li><a class="dropdown__link" href="/frontend">TS/JS</a></li></ul></div><a class="navbar__item navbar__link" href="/chore/webpack">构建</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div><a class="navbar__item navbar__link" href="/algorithm">算法</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://blog.csdn.net/VOID_Pointer_G" target="_blank" rel="noopener noreferrer" class="dropdown__link">CSDN<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://juejin.cn/user/3263006244083678" target="_blank" rel="noopener noreferrer" class="dropdown__link">掘金<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/yanadev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">最近博客</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/windows-share-issues">windows网络共享盘无法访问问题</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/pm2-use-guide">pm2使用指南</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/alibaba-server-build">搭建部署云服务器</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/shopify-dev-error">shopify 启动失败</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/mern-stack-dev">MERN 全栈项目搭建</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/shopify-github-action">shopify项目设置自动化部署</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/liquid-basic">Shopify Liquid</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/shopify-themekit-dev">shopify Themekit开发</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/shopify-theme-dev">shopify 主题开发</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/shopify-start">启动已有的 shopify 项目</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/dev-env-config">开发环境配置</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/interview-review">面试复盘</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog-migration">博客迁移</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/shopify-cli-use">shopify/cli 使用</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/sentry-link-feishu">Sentry 接入飞书通知</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/sentry">Sentry监控方案</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/Business-design-modals">B端 - 弹窗设计</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2020</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/ESLint-rules">ESLint语法规则</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/http-get-post">HTTP - GET 与 POST</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/econ-database">econ项目数据库表</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/console 面板字符串与数字">console 面板字符串与数字</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/浏览器跨域报错 Accsee-Control-Allow-Headers">浏览器跨域报错 Accsee-Control-Allow-Headers</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/CSS-style">CSS 样式总结</a></li></ul></div></nav></aside><main class="col col--7"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/windows-share-issues">windows网络共享盘无法访问问题</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-05-23T00:00:00.000Z">2025年5月23日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><ol>
<li>可以在网络看到局域网中的其他主机，双击连接会显示以下错误信息</li>
</ol>
<p><img decoding="async" loading="lazy" alt="无法访问共享盘" src="/assets/images/image-9-45d7f524780b6db20e39777279bc67e8.png" width="558" height="185" class="img_ev3q"></p>
<h1>解决</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step1-首先确保当前网络属性-是否安装了多播协议">step1. 首先确保当前网络/属性 是否安装了多播协议<a href="#step1-首先确保当前网络属性-是否安装了多播协议" class="hash-link" aria-label="step1. 首先确保当前网络/属性 是否安装了多播协议的直接链接" title="step1. 首先确保当前网络/属性 是否安装了多播协议的直接链接">​</a></h2>
<blockquote>
<p>如果显示的属性中已经有了可靠多播协议，那么就不需要执行以下的操作</p>
</blockquote>
<ol>
<li>打开网络和共享中心</li>
</ol>
<p><img decoding="async" loading="lazy" alt="网络和共享中心" src="/assets/images/image-56e80cb12590558b26adc5d40d7cfb2a.png" width="755" height="436" class="img_ev3q"></p>
<ol start="2">
<li>右键查看当前网络连接属性</li>
</ol>
<p><img decoding="async" loading="lazy" alt="右键查看当前网络连接属性" src="/assets/images/image-1-4a596dac4817a8418cca9f9c0bc70c24.png" width="341" height="305" class="img_ev3q"></p>
<ol start="3">
<li>为当前网络客户端安装协议</li>
</ol>
<p><img decoding="async" loading="lazy" alt="为当前网络客户端安装协议" src="/assets/images/image-2-2c4094b5f0931406eb76d4d73d35a534.png" width="419" height="566" class="img_ev3q"></p>
<ol start="4">
<li>选择协议并添加</li>
</ol>
<p><img decoding="async" loading="lazy" alt="选择协议并添加" src="/assets/images/image-3-49eb6c539632b85d044d0b08d4e4785b.png" width="417" height="478" class="img_ev3q"></p>
<ol start="5">
<li>安装多播协议</li>
</ol>
<p><img decoding="async" loading="lazy" alt="安装多播协议" src="/assets/images/image-4-2c6309a1316265fbb80abd0db3d38664.png" width="506" height="421" class="img_ev3q"></p>
<ol start="6">
<li>出现这个协议表示安装成功</li>
</ol>
<p><img decoding="async" loading="lazy" alt="出现这个协议表示安装成功" src="/assets/images/image-5-945e670de63509aba186be5ab4cc9823.png" width="421" height="598" class="img_ev3q"></p>
<p>一般到这里，就可以正常访问共享盘了</p>
<p><code>win+r</code> 快捷键输出共享盘地址 <code>\\192.168.x.xx\</code></p>
<p>如果输入访问还是报错 <code>你不能访问此共享文件夹，因为你组织的安全策略阻止未经身份验证的来宾访问</code></p>
<p><img decoding="async" loading="lazy" alt="无法访问共享盘，因为组织的安全策略阻止" src="/assets/images/image-10-2a33f0a9678ece10d1653f0218deecd6.png" width="781" height="200" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="step2-修改组织安全策略修复-组织的安全策略阻止未经身份验证的来宾访问">step2 修改组织安全策略修复 &quot;组织的安全策略阻止未经身份验证的来宾访问&quot;<a href="#step2-修改组织安全策略修复-组织的安全策略阻止未经身份验证的来宾访问" class="hash-link" aria-label="step2 修改组织安全策略修复 &quot;组织的安全策略阻止未经身份验证的来宾访问&quot;的直接链接" title="step2 修改组织安全策略修复 &quot;组织的安全策略阻止未经身份验证的来宾访问&quot;的直接链接">​</a></h2>
<ol>
<li><code>win + r</code> 输入 <code>gpedit.msc</code></li>
</ol>
<p><img decoding="async" loading="lazy" alt="进入本地组策略编辑器" src="/assets/images/image-6-7153e72863a5855d4edeb51359e3899b.png" width="398" height="229" class="img_ev3q"></p>
<ol start="2">
<li>找到“启用不安全的来宾登录”设置</li>
</ol>
<p><img decoding="async" loading="lazy" alt="启用不安全的来宾登录" src="/assets/images/image-7-be848730955cadea085f49f34a027d53.png" width="1196" height="435" class="img_ev3q"></p>
<ol start="3">
<li>双击将该配置从 “未配置” 修改为 “已启用”</li>
</ol>
<p><img decoding="async" loading="lazy" alt="双击修改配置为“已启用”" src="/assets/images/image-8-8d61e32048a67e5c3cbfb5f4d57d51d1.png" width="694" height="645" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/windows">windows</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/pm2-use-guide">pm2使用指南</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-02-10T00:00:00.000Z">2025年2月10日</time> · <!-- -->阅读需 1 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">npm install -g pm2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 检查是否安装成功</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 -v</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>使用 pm2 启动项目 express 项目</h1>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 start server.js</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">#或者指定 node 运行， server.js 是 node 服务器文件</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 start server.js --name my-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="常用命令">常用命令<a href="#常用命令" class="hash-link" aria-label="常用命令的直接链接" title="常用命令的直接链接">​</a></h2>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 查看所有进程</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 show my-app</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 查看实时日志</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 logs</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 查看某个应用的日志</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 logs my-app</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 停止应用</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 stop 0  # 0 是应用 ID</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 stop my-app</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 重启应用</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 restart my-app</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 restart 0 # 0 是应用 ID</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 删除应用</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 delete my-app</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 delete 0 # 0 是应用 ID</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 重启后自动启动</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 startup</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 执行后会出现一条命令，复制命令执行，pm2就能开机自行启动</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># e.g. sudo env PATH=$PATH:/home/your-user/.nvm/versions/node/v22.13.1/bin pm2 startup systemd -u root --hp /root</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/pm-2">pm2</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/server">server</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/node">node</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/alibaba-server-build">搭建部署云服务器</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-02-10T00:00:00.000Z">2025年2月10日</time> · <!-- -->阅读需 7 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>本教程适用于 Ubuntu 20.04 / 22.04，主要包含以下内容：
✅ 购买并配置阿里云服务器（ECS）
✅ 使用 SSH 连接服务器
✅ 安装 Node.js、PM2、Nginx
✅ 上传并部署 React 项目
✅ 使用 Nginx 反向代理 &amp; 配置 HTTPS</p>
<h1>🚀 第 1 步：购买阿里云 ECS 服务器</h1>
<ol>
<li>
<p>登录阿里云 👉 <a href="https://www.aliyun.com/" target="_blank" rel="noopener noreferrer">阿里云官网</a></p>
</li>
<li>
<p>进入 ECS 控制台，选择 创建实例</p>
<p><img decoding="async" loading="lazy" alt="image-20250210114611498" src="/assets/images/image-20250210114611498-9cc26c82a8c8c284565d38ff60f0400c.png" width="733" height="357" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210114650381" src="/assets/images/image-20250210114650381-c23f3fce233c235cbabf6b92fdda80d8.png" width="795" height="271" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210115330826" src="/assets/images/image-20250210115330826-e6cd97099bcf60fa9c68808dc9157bbd.png" width="1651" height="927" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210115539017" src="/assets/images/image-20250210115539017-eb3ceb0c46ef38da48248fa63129357e.png" width="441" height="270" class="img_ev3q"></p>
</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>计费方式：按量付费 or 包年包月（长期用推荐包年包月）
地域：选择靠近你的目标用户的地区
实例类型：2 核 4G（最少）
操作系统：Ubuntu 22.04 LTS（推荐）
存储：默认 40GB SSD
带宽：固定公网 IP，1-5 Mbps</p></div></div>
<ol start="3">
<li>创建完成后，进入 ECS 控制台，找到服务器公网 IP</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">x.xxx.xx.xx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20250210120015830" src="/assets/images/image-20250210120015830-02b893320af4487adf8a5f74494f6fbc.png" width="723" height="563" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210120159074" src="/assets/images/image-20250210120159074-757573249d938b873defda50e0bc8b05.png" width="1311" height="747" class="img_ev3q"></p>
<h1>🖥 第 2 步：连接服务器</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="方式-1直接通过阿里云登录到服务器">方式 1：直接通过阿里云登录到服务器<a href="#方式-1直接通过阿里云登录到服务器" class="hash-link" aria-label="方式 1：直接通过阿里云登录到服务器的直接链接" title="方式 1：直接通过阿里云登录到服务器的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image-20250210163215517" src="/assets/images/image-20250210163215517-8ac9e694e639d0ea3a46aab3e62c9890.png" width="664" height="293" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210163320114" src="/assets/images/image-20250210163320114-17da2127835f41b0864c03ea94d88ae5.png" width="685" height="730" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210163355913" src="/assets/images/image-20250210163355913-2ede544c3aa4b2efe3e98797f7df2c6f.png" width="673" height="522" class="img_ev3q"></p>
<p>会开启一个网页直接登录到服务器</p>
<p><img decoding="async" loading="lazy" alt="image-20250210163512319" src="/assets/images/image-20250210163512319-0962d216a42e97cd0c5dfec88106feca.png" width="451" height="116" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="方式-2windows使用-xshell--putty">方式 2：Windows（使用 Xshell / PuTTY）<a href="#方式-2windows使用-xshell--putty" class="hash-link" aria-label="方式 2：Windows（使用 Xshell / PuTTY）  的直接链接" title="方式 2：Windows（使用 Xshell / PuTTY）的直接链接">​</a></h2>
<ol>
<li>下载 Xshell</li>
<li>使用 SSH 连接</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">ssh root@你的服务器IP</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>
<p>输入密码</p>
<p><img decoding="async" loading="lazy" alt="image-20250210163830536" src="/assets/images/image-20250210163830536-0d1a6b78d2973320b51a5f21cbf848af.png" width="433" height="394" class="img_ev3q"></p>
</li>
</ol>
<h1>📦 第 3 步：安装 Node.js、PM2、Nginx</h1>
<ol>
<li>更新服务器</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 更新 linux 系统本地软件包索引并更新所有可以升级的软件包</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">apt update &amp;&amp; apt upgrade -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>​ <img decoding="async" loading="lazy" alt="image-20250210164330422" src="/assets/images/image-20250210164330422-30cae09d22d214ec2ef07fb3ceb4c87e.png" width="610" height="367" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210164616732" src="/assets/images/image-20250210164616732-608f2b9a8c7e179fc423e49166cc6257.png" width="621" height="733" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210164639518" src="/assets/images/image-20250210164639518-7f406a7ba477b413f6bb69e6d2900db5.png" width="608" height="407" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210165116654" src="data:image/png;base64,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" width="298" height="26" class="img_ev3q"></p>
<ol start="2">
<li>安装 Node.js（使用 nvm）</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 安装 nvm</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">curl -fsSL https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.4/install.sh | bash</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 让上面的安装更改立即生效，无需推出终端</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">source ~/.bashrc</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 安装 node LTS 长期支持版本</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">nvm install --lts</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">node -v  # 检查是否安装成功</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20250210164820927" src="/assets/images/image-20250210164820927-66d8eda62f40326b61c756b46206dee9.png" width="644" height="412" class="img_ev3q"></p>
<ol start="3">
<li>安装 PM2（管理 Node.js 进程）</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 更新 npm</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npm install -g npm</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 安装 PM2 管理 node 进程</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npm install -g pm2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 设置 pm2 开机自启</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 startup</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 冻结进程,当服务器重启的时候， pm2 会自动恢复这些进程</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 save</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20250210165621914" src="data:image/png;base64,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" width="389" height="91" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210170720824" src="/assets/images/image-20250210170720824-246116db668bde6b30ae9161996f6587.png" width="582" height="590" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250210170741668" src="/assets/images/image-20250210170741668-b5d0115e8cd8af90a13a836ac13ec832.png" width="680" height="662" class="img_ev3q"></p>
<ol start="4">
<li>安装 Nginx</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 更新 nginx，直接点击回车键 enter 继续就行</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">apt install nginx -y</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 启用 nginx 服务</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">systemctl enable nginx</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 启动 nginx</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">systemctl start nginx</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">nginx -v # 检查版本</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="image-20250210171602836" src="/assets/images/image-20250210171602836-6499459d5b5247b8fd3355aa961e6aee.png" width="697" height="102" class="img_ev3q"></p>
<h1>📂 第 4 步：上传 React 项目</h1>
<ol>
<li>安装 Git</li>
</ol>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>​ <img decoding="async" loading="lazy" alt="image-20250210174556540" src="data:image/png;base64,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" width="477" height="92" class="img_ev3q"></p>
<ol start="2">
<li>
<p>克隆你的 React 项目</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>拉取项目的时候需要登录你的 github 账户，首先去创建一个 personal token 用于验证</p><ol>
<li>
<p>登录 github</p>
</li>
<li>
<p>创建 token，确保有 repo 的权限</p>
<p>在 settings / Developer Settings / Personal access tokens / Tokens (classic) / Generate new token / Generate new token (classic) 创建 token</p>
</li>
<li>
<p>创建完毕之后复制保存这个 personal token，用于登录服务器操作仓库代码</p>
</li>
</ol></div></div>
<p><img decoding="async" loading="lazy" alt="image-20250211111147026" src="/assets/images/image-20250211111147026-14f19c93b0380a8b8c72159f828ddca1.png" width="324" height="514" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250211111234993" src="/assets/images/image-20250211111234993-4e0970368882265fa464ade57502582e.png" width="284" height="370" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250211111119955" src="/assets/images/image-20250211111119955-6c83aa6ede3e0f68bd24493bb8e08b2a.png" width="1150" height="525" class="img_ev3q"></p>
</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">cd /var/www</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">git clone https://github.com/your-repo.git surprise-gift-frontend</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">cd surprise-gift-frontend</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>安装依赖 &amp; 构建</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npm run build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>🚀 第 5 步：使用 PM2 启动 React</h1>
<ol>
<li>进入构建目录</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">cd /var/www/surprise-gift-frontend</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 我这里项目打包出来的目录是 .next，如果你的是 dist，需要修改一下</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>使用 serve 启动 React</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 安装 serve</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npm install -g serve</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 执行打包命令</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npm run build</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 使用 serve 和 pm2 启动项目的 start 命令</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 start serve --name surprise-gift-frontend -- -s -l 3000</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 start npm --name surprise-gift-frontend -- build</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 保存进程到 pm2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 save</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>设置开机自启</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 startup</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>🌐 第 6 步：配置 Nginx 反向代理</h1>
<p>1️⃣ 创建 Nginx 配置</p>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">nano /etc/nginx/sites-available/surprise-gift-frontend</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2️⃣ 添加以下内容</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">server </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    listen </span><span class="token number" style="color:#B5CEA8">80</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    server_name your-domain.com</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    location / </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        proxy_pass http://localhost:3000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        proxy_http_version </span><span class="token number" style="color:#B5CEA8">1.1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        proxy_set_header Upgrade </span><span class="token variable" style="color:rgb(156, 220, 254)">$http_upgrade</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        proxy_set_header Connection </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;upgrade&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        proxy_set_header Host </span><span class="token variable" style="color:rgb(156, 220, 254)">$host</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        proxy_cache_bypass </span><span class="token variable" style="color:rgb(156, 220, 254)">$http_upgrade</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>3️⃣ 启用配置</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 设置软链接，这样就不需要手动复制配置文件到 sites-enabled（注意：如果要删除配置文件的时候，两个位置的配置文件都要删除，否则执行 nginx -t 的时候会报错）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">ln</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-s</span><span class="token plain"> /etc/nginx/sites-available/surprise-gift-frontend /etc/nginx/sites-enabled/</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">nginx </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-t</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)"># 检查配置是否正确</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">systemctl restart nginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>🔒 第 7 步：配置 HTTPS（可选）</h1>
<p>1️⃣ 安装 Certbot（免费 SSL 证书）</p>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">apt install certbot python3-certbot-nginx -y</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2️⃣ 申请 HTTPS 证书</p>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">certbot --nginx -d your-domain.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果成功，Nginx 配置会自动更新，网站会支持 HTTPS。
3️⃣ 配置自动续期</p>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">certbot renew --dry-run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>🔖 本地可访问，外部无法访问: 检查防火墙</h1>
<p>确保你当前使用的端口允许访问</p>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 确保服务器的 80 端口开放，可以通过一下命令检查</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">sudo ufw allow 80</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">sudo ufw allow 80/tcp    # 允许 80 端口</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">sudo ufw allow 3000/tcp  # 允许 3000 端口</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">sudo ufw status # 检查防火墙状态</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>如果在服务器防火墙都没有设置的情况下，依旧无法访问站点，但是本地可以正常访问，检查服务器的安全组设置是否没有开放对应的端口</p></div></div>
<p><img decoding="async" loading="lazy" alt="image-20250211112631430" src="/assets/images/image-20250211112631430-562c124c0ac6a2dbc40dc2c326221e60.png" width="1758" height="403" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20250211112653573" src="/assets/images/image-20250211112653573-73fe46567aefa25dcaf01427266276a8.png" width="1644" height="321" class="img_ev3q"></p>
<h1>🧐 关于域名解析</h1>
<ol>
<li>
<p>购买一个 域名之后，将服务器的公网 ip 映射到这个域名上</p>
<p><img decoding="async" loading="lazy" alt="image-20250211113106827" src="/assets/images/image-20250211113106827-3cb94476845d5f264cd4dbc4146e5c35.png" width="847" height="546" class="img_ev3q"></p>
</li>
<li>
<p>设置多级域名访问主域名</p>
<p><img decoding="async" loading="lazy" alt="image-20250211113312430" src="/assets/images/image-20250211113312430-bb2fc72a017d907a71b495a23c716c4c.png" width="841" height="536" class="img_ev3q"></p>
<blockquote>
<p>这样在服务器的 nginx 配置中 server_name 这一项可以输入多个配置好的 域名解析，都支持访问你的站点</p>
<p>e.g. server_name yanammm.top <a href="http://www.yanammm.top" target="_blank" rel="noopener noreferrer">www.yanammm.top</a></p>
</blockquote>
</li>
</ol>
<h1>👀 域名备案</h1>
<p>在站点还没有完成之前可以直接用 ip:端口的方式来访问，然后再去申请备案即可</p>
<h1>✅ 最终测试</h1>
<ol>
<li>在浏览器输入：</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">http://你的服务器IP</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"># 或</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">https://your-domain.com</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>你应该能看到你的 React 项目成功运行！🎉</p>
<ol start="2">
<li>检查 PM2 进程是否正常</li>
</ol>
<div class="language-zsh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-zsh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">pm2 list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>如果 react-app 进程是 online，说明项目在运行。</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/alibaba">alibaba</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/server">server</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/nginx">nginx</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/node">node</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/shopify-dev-error">shopify 启动失败</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-05-14T00:00:00.000Z">2024年5月14日</time> · <!-- -->阅读需 1 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="问题">问题<a href="#问题" class="hash-link" aria-label="问题的直接链接" title="问题的直接链接">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain"> request to https://xxxxxx.myshopify.com/admin/api/unstable/themes/xxxxxxxxxx.json?fields</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">id%2Cname%2Crole%2Cprocessing failed</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> reason: Client network socket disconnected before secure TLS connection was established</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解决方法">解决方法<a href="#解决方法" class="hash-link" aria-label="解决方法的直接链接" title="解决方法的直接链接">​</a></h2>
<p>安装一个 clash，用 <strong>TUN Mode</strong> 模式来解决这个问题</p>
<p><a href="https://github.com/lantongxue/clash_for_windows_pkg/releases" target="_blank" rel="noopener noreferrer">download clash for windows</a></p>
<p>安装完毕之后，如果启动了但是还是没办法上网，关闭 clash 之后用管理员身份重新打开</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用-tun-mode-之前需要先安装-services">使用 TUN Mode 之前需要先安装 services<a href="#使用-tun-mode-之前需要先安装-services" class="hash-link" aria-label="使用 TUN Mode 之前需要先安装 services的直接链接" title="使用 TUN Mode 之前需要先安装 services的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image-20240514114553853" src="/assets/images/image-20240514114553853-efa8fb00c695e056cba450a06f2f0728.png" width="850" height="603" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240514114645296" src="/assets/images/image-20240514114645296-bcbd1791a0a70359ef88c844209c0575.png" width="850" height="603" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240514114702529" src="/assets/images/image-20240514114702529-eadc5ebf698f862c6ac8c414c23ec349.png" width="850" height="603" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="接着启动-tun-模式">接着启动 TUN 模式<a href="#接着启动-tun-模式" class="hash-link" aria-label="接着启动 TUN 模式的直接链接" title="接着启动 TUN 模式的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image-20240514114805305" src="/assets/images/image-20240514114805305-19d0fb752115a2e51991fef1fac37867.png" width="850" height="603" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="开启或关闭代理">开启或关闭代理<a href="#开启或关闭代理" class="hash-link" aria-label="开启或关闭代理的直接链接" title="开启或关闭代理的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image-20240514114834967" src="/assets/images/image-20240514114834967-f66e3cef4b5226a6b89c026786d18637.png" width="850" height="603" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>然后重启启动 shopify 项目即可（必要情况下可关闭终端，重新创建一个终端）如果启动之后发现还是不行的话， 有可能是尝试的多个
vpn 软件没有完全关闭，只能保留一个</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="关闭进程小-tips">关闭进程小 tips<a href="#关闭进程小-tips" class="hash-link" aria-label="关闭进程小 tips的直接链接" title="关闭进程小 tips的直接链接">​</a></h3>
<p><img decoding="async" loading="lazy" alt="image-20240523094351592" src="/assets/images/image-20240523094351592-f9c3e89a55ccefda02e228b3514b3d09.png" width="416" height="545" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240523094607238" src="/assets/images/image-20240523094607238-9d9fff4fa93dc2df88dac8eec3d6a35c.png" width="666" height="593" class="img_ev3q"></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/shopify">shopify</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/error">error</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/mern-stack-dev">MERN 全栈项目搭建</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-05-06T00:00:00.000Z">2024年5月6日</time> · <!-- -->阅读需 16 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="技术选型">技术选型<a href="#技术选型" class="hash-link" aria-label="技术选型的直接链接" title="技术选型的直接链接">​</a></h2>
<ul>
<li>前端框架：React</li>
<li>后端框架：Express.js + Node.js</li>
<li>数据库：MongoDB</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="预期的项目结构">预期的项目结构<a href="#预期的项目结构" class="hash-link" aria-label="预期的项目结构的直接链接" title="预期的项目结构的直接链接">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">my-mern-project/   </span><span class="token comment" style="color:rgb(106, 153, 85)"># 项目根目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">├── backend/       </span><span class="token comment" style="color:rgb(106, 153, 85)"># 后端代码目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   ├── models/    </span><span class="token comment" style="color:rgb(106, 153, 85)"># 数据模型目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   ├── routes/    </span><span class="token comment" style="color:rgb(106, 153, 85)"># 路由目录(将 controllers 和 routes 合并到同一个目录，便与后续维护)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   │   ├── userRoutes.js</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   │   └── userController.js</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   ├── config/    </span><span class="token comment" style="color:rgb(106, 153, 85)"># 配置文件目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   ├── index.js   </span><span class="token comment" style="color:rgb(106, 153, 85)"># 后端入口文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   └── package.json   </span><span class="token comment" style="color:rgb(106, 153, 85)"># 后端依赖管理文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">├── frontend/      </span><span class="token comment" style="color:rgb(106, 153, 85)"># 前端代码目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   ├── public/    </span><span class="token comment" style="color:rgb(106, 153, 85)"># 静态资源目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   ├── src/       </span><span class="token comment" style="color:rgb(106, 153, 85)"># 源代码目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   │   ├── components/   </span><span class="token comment" style="color:rgb(106, 153, 85)"># React 组件目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   │   ├── pages/    </span><span class="token comment" style="color:rgb(106, 153, 85)"># 页面组件目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   │   ├── App.js    </span><span class="token comment" style="color:rgb(106, 153, 85)"># React 应用入口文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   │   └── index.js   </span><span class="token comment" style="color:rgb(106, 153, 85)"># React 应用渲染入口文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│   └── package.json   </span><span class="token comment" style="color:rgb(106, 153, 85)"># 前端依赖管理文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">│</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">└── README.md      </span><span class="token comment" style="color:rgb(106, 153, 85)"># 项目说明文档</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="项目搭建步骤">项目搭建步骤<a href="#项目搭建步骤" class="hash-link" aria-label="项目搭建步骤的直接链接" title="项目搭建步骤的直接链接">​</a></h2>
<ol>
<li>新建文件夹 my-mern-project 保存前后端项目</li>
<li>新建前后端项目根目录 /frontend, /backend</li>
<li>在 frontend、backend 中各自用脚手架初始化项目</li>
<li>分别优化前后端项目目录结构</li>
<li>基于优化的项目结构启动项目并联调协作</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 新建项目文件夹</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">mkdirmkdir my-mern-project</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> my-mern-project</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 脚手架初始化前端项目，会创建名为 frontend 的 react 项目</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npx create-react-app@latest frontend</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 全局安装 express-generator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-g</span><span class="token plain"> express-generator</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 脚手架初始化后端项目，会创建名为 backend 的后端项目</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">express backend --no-view</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>至此项目结构已经基本搭建起来了，接下来是按照预期的项目结构来优化一下目录结构</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="后端项目结构优化">后端项目结构优化<a href="#后端项目结构优化" class="hash-link" aria-label="后端项目结构优化的直接链接" title="后端项目结构优化的直接链接">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">└─── backend/       </span><span class="token comment" style="color:rgb(106, 153, 85)"># 后端代码目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    ├── models/    </span><span class="token comment" style="color:rgb(106, 153, 85)"># 数据模型目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    ├── routes/    </span><span class="token comment" style="color:rgb(106, 153, 85)"># 路由目录(将 controllers 和 routes 合并到同一个目录，便与后续维护)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    ├── config/    </span><span class="token comment" style="color:rgb(106, 153, 85)"># 配置文件目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    ├── index.js   </span><span class="token comment" style="color:rgb(106, 153, 85)"># 后端入口文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    └── package.json   </span><span class="token comment" style="color:rgb(106, 153, 85)"># 后端依赖管理文件</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="routesindexjs-统一管理路由让路由配置更为集中和清晰">routes/index.js 统一管理路由，让路由配置更为集中和清晰<a href="#routesindexjs-统一管理路由让路由配置更为集中和清晰" class="hash-link" aria-label="routes/index.js 统一管理路由，让路由配置更为集中和清晰的直接链接" title="routes/index.js 统一管理路由，让路由配置更为集中和清晰的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="routesindexjs">routes/index.js<a href="#routesindexjs" class="hash-link" aria-label="routes/index.js的直接链接" title="routes/index.js的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// routes/index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;express&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> router </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access maybe-class-name" style="color:#4EC9B0">Router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> userRoutes </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./userRoutes&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> postRoutes </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./postRoutes&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/users&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> userRoutes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/posts&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> postRoutes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> router</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="routesuserroutesjs">routes/userRoutes.js<a href="#routesuserroutesjs" class="hash-link" aria-label="routes/userRoutes.js的直接链接" title="routes/userRoutes.js的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// userRoutes.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;express&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> router </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access maybe-class-name" style="color:#4EC9B0">Router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> getUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> createUser </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./userController&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// GET 请求处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> getUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// POST 请求处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">post</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> createUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 导出路由对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> router</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="routesusercontrollerjs">routes/userController.js<a href="#routesusercontrollerjs" class="hash-link" aria-label="routes/userController.js的直接链接" title="routes/userController.js的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// userController.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 中间件函数 - 获取用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">getUser</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 中间件处理逻辑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">send</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;GET request to the homepage&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 中间件函数 - 创建用户</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">createUser</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 中间件处理逻辑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">send</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;POST request to the homepage&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 使用ES6解构导出中间件函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  getUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  createUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>postRoutes.js postController.js 的初始化文件结构也基本一致，只是修改一下变量名称</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="数据库与环境变量配置">数据库与环境变量配置<a href="#数据库与环境变量配置" class="hash-link" aria-label="数据库与环境变量配置的直接链接" title="数据库与环境变量配置的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="安装-dotenv-创建-env-文件配置全局环境变量">安装 dotenv 创建 .env 文件配置全局环境变量<a href="#安装-dotenv-创建-env-文件配置全局环境变量" class="hash-link" aria-label="安装 dotenv 创建 .env 文件配置全局环境变量的直接链接" title="安装 dotenv 创建 .env 文件配置全局环境变量的直接链接">​</a></h4>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># .env</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">DB_HOST</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">localhost</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">DB_PORT</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token number" style="color:#B5CEA8">27017</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">DB_NAME</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">mydatabase</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">DB_USER</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">myusername</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(156, 220, 254)">DB_PASS</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">mypassword</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="configenvjs-中引入环境变量配置各个环境的启动参数">config/env.js 中引入环境变量，配置各个环境的启动参数<a href="#configenvjs-中引入环境变量配置各个环境的启动参数" class="hash-link" aria-label="config/env.js 中引入环境变量，配置各个环境的启动参数的直接链接" title="config/env.js 中引入环境变量，配置各个环境的启动参数的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// config/env.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;dotenv&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">config</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">development</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token constant" style="color:#4FC1FF">PORT</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:#4FC1FF">PORT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token constant" style="color:#4FC1FF">MONGO_URI</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token template-string string" style="color:rgb(206, 145, 120)">mongodb://</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_USER</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_PASS</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">@</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_HOST</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_PORT</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_NAME</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 其他开发环境配置...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">test</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token constant" style="color:#4FC1FF">PORT</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:#4FC1FF">PORT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token constant" style="color:#4FC1FF">MONGO_URI</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token template-string string" style="color:rgb(206, 145, 120)">mongodb://</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_USER</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_PASS</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">@</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_HOST</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">:</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_PORT</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string string" style="color:rgb(206, 145, 120)">/</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">${</span><span class="token template-string interpolation">process</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation property-access">env</span><span class="token template-string interpolation punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token template-string interpolation constant" style="color:#4FC1FF">DB_NAME</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token template-string template-punctuation string" style="color:rgb(206, 145, 120)">`</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 其他测试环境配置...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">production</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token constant" style="color:#4FC1FF">PORT</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:#4FC1FF">PORT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5000</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token constant" style="color:#4FC1FF">MONGO_URI</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:#4FC1FF">MONGODB_URI</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 其他生产环境配置...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>注意：这里测试环境和开发环境的本地环境配置脚本和上面的 .env 一致</p><p>生产环境的话只需要配置 MONGODB_URI=xxxxxx 这一项就可以了</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="随后在-configdatabasejs-中引入环境变量根据不同环境自动读取环境变量">随后在 config/database.js 中引入环境变量，根据不同环境自动读取环境变量<a href="#随后在-configdatabasejs-中引入环境变量根据不同环境自动读取环境变量" class="hash-link" aria-label="随后在 config/database.js 中引入环境变量，根据不同环境自动读取环境变量的直接链接" title="随后在 config/database.js 中引入环境变量，根据不同环境自动读取环境变量的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// config/database.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> envConfig </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./env&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 获取当前环境</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token constant" style="color:#4FC1FF">ENV</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">env</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:#4FC1FF">NODE_ENV</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;development&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 根据当前环境加载对应的数据库配置信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> config </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> envConfig</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token constant" style="color:#4FC1FF">ENV</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="接下来在-utilsdatabasejs-中创建数据库的连接函数">接下来在 utils/database.js 中创建数据库的连接函数<a href="#接下来在-utilsdatabasejs-中创建数据库的连接函数" class="hash-link" aria-label="接下来在 utils/database.js 中创建数据库的连接函数的直接链接" title="接下来在 utils/database.js 中创建数据库的连接函数的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// utils/database.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> mongoose </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mongoose&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">connectDB</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">mongoURI</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">await</span><span class="token plain"> mongoose</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">connect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">mongoURI</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token literal-property property" style="color:#9CDCFE">useNewUrlParser</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token literal-property property" style="color:#9CDCFE">useUnifiedTopology</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;MongoDB connected successfully&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Error connecting to MongoDB:&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">message</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    process</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">exit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// Exit process with failure</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> connectDB</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="最终在入口文件-appjs-中引入配置信息">最终在入口文件 app.js 中引入配置信息<a href="#最终在入口文件-appjs-中引入配置信息" class="hash-link" aria-label="最终在入口文件 app.js 中引入配置信息的直接链接" title="最终在入口文件 app.js 中引入配置信息的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;express&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;path&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> cookieParser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;cookie-parser&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> logger </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;morgan&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> routes </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./routes&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入数据库配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> config </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./config/database&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入数据库连接函数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> connectDB </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./utils/database&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function" style="color:rgb(220, 220, 170)">logger</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;dev&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">urlencoded</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">extended</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">false</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function" style="color:rgb(220, 220, 170)">cookieParser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">static</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">join</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;public&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 连接数据库</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">connectDB</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">config</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token constant" style="color:#4FC1FF">MONGO_URI</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 所有以 /api 开头的请求都会交给 routes 对象处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/api&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> routes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb-注册安装与配置">mongodb 注册、安装与配置<a href="#mongodb-注册安装与配置" class="hash-link" aria-label="mongodb 注册、安装与配置的直接链接" title="mongodb 注册、安装与配置的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建数据库配置数据库密钥信息更新不同环境中的环境变量">创建数据库，配置数据库密钥信息，更新不同环境中的环境变量<a href="#创建数据库配置数据库密钥信息更新不同环境中的  环境变量" class="hash-link" aria-label="创建数据库，配置数据库密钥信息，更新不同环境中的环境变量的直接链接" title="创建数据库，配置数据库密钥信息，更新不同环境中的环境变量的直接链接">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="注册账号并登录账号">注册账号，并登录账号<a href="#注册账号并登录账号" class="hash-link" aria-label="注册账号，并登录账号的直接链接" title="注册账号，并登录账号的直接链接">​</a></h4>
<p><a href="https://www.mongodb.com/" target="_blank" rel="noopener noreferrer">MongoDB: The Developer Data Platform | MongoDB 注册链接</a></p>
<p><img decoding="async" loading="lazy" alt="image-20240508223034299" src="/assets/images/image-20240508223034299-8447976a18ccb3fd41005c8158f6e54f.png" width="1860" height="938" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508223112917" src="/assets/images/image-20240508223112917-9a34e93d697e54dc11a9f8837ef205e9.png" width="1860" height="938" class="img_ev3q"></p>
<blockquote>
<p>登录完毕之后会看到这样一个界面</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="image-20240508223218649" src="/assets/images/image-20240508223218649-6f1ebcd47850fb20111617d1a94ec0b0.png" width="1920" height="879" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="登陆完毕先创建一个项目">登陆完毕先创建一个项目<a href="#登陆完毕先创建一个项目" class="hash-link" aria-label="登陆完毕先创建一个项目的直接链接" title="登陆完毕先创建一个项目的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20240508223345552" src="/assets/images/image-20240508223345552-5ea2330156ff02fda3459c4a10c1ceba.png" width="545" height="494" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508223448166" src="/assets/images/image-20240508223448166-2ad5015386441b27e76836f2bc0191aa.png" width="1231" height="767" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508223738591" src="/assets/images/image-20240508223738591-554bd18de9c49b54b3e257c272afb070.png" width="1419" height="786" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="创建一个免费的云端服务器512m">创建一个免费的云端服务器（512M）<a href="#创建一个免费的云端服务器512m" class="hash-link" aria-label="创建一个免费的云端服务器（512M）的直接链接" title="创建一个免费的云端服务器（512M）的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20240508224027209" src="/assets/images/image-20240508224027209-fba7c26de1694c75d449d275332c176c.png" width="1777" height="744" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508224530680" src="/assets/images/image-20240508224530680-fe6de17b154df7909259d1d8f4b58bea.png" width="1479" height="738" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508224658058" src="/assets/images/image-20240508224658058-d7a8bbe849f4729081fe9886ccb3afbd.png" width="1472" height="820" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508225056034" src="/assets/images/image-20240508225056034-391f2d020e7f3902fad382cc6b1a3a8a.png" width="1920" height="879" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="服务器创建完毕之后创建一个数据库登录账户">服务器创建完毕之后，创建一个数据库登录账户<a href="#服务器创建完毕之后创建一个数据库登录账户" class="hash-link" aria-label="服务器创建完毕之后，创建一个数据库登录账户的直接链接" title="服务器创建完毕之后，创建一个数据库登录账户的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20240510215608416" src="/assets/images/image-20240510215608416-1f7b32ae21b7889823fc70e9a12b0771.png" width="1920" height="776" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240510220006592" src="/assets/images/image-20240510220006592-a2b738995f2e91161d2eccb68fb30bfd.png" width="1920" height="879" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240510220429569" src="/assets/images/image-20240510220429569-7671229c477e38c4e8b3b9d6224728b4.png" width="1920" height="879" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="设置-ip-访问白名单选填">设置 IP 访问白名单（选填）<a href="#设置-ip-访问白名单选填" class="hash-link" aria-label="设置 IP 访问白名单（选填）的直接链接" title="设置 IP 访问白名单（选填）的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20240510220815173" src="/assets/images/image-20240510220815173-f21443b759aadfa74c90100d4da76ef7.png" width="1920" height="879" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240510220829873" src="/assets/images/image-20240510220829873-7184cc570e6f78a1457c7b66d332ea98.png" width="891" height="486" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>用户账户创建完毕之后，接下来安装图形化界面客户端来连接云服务器</p></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240510221433783" src="/assets/images/image-20240510221433783-c23b18035a3221a2cbcdeca1843ef63b.png" width="1920" height="879" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240510221515490" src="/assets/images/image-20240510221515490-cea013b6d39c5ffb0fde5841dde68d63.png" width="1920" height="879" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240510221629996" src="/assets/images/image-20240510221629996-7de16f23765c07c27a67365928f803d3.png" width="1920" height="879" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="下载-mongodb-客户端">下载 mongodb 客户端<a href="#下载-mongodb-客户端" class="hash-link" aria-label="下载 mongodb 客户端的直接链接" title="下载 mongodb 客户端的直接链接">​</a></h4>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>可以直接点击连接安装</p></div></div>
<p><a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noopener noreferrer">🔗MongoDB 安装地址</a></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>也可以在 databse 中点击连接，有支持直接安装的连接</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="下载完毕之后安装客户端">下载完毕之后安装客户端<a href="#下载完毕之后安装客户端" class="hash-link" aria-label="下载完毕之后安装客户端的直接链接" title="下载完毕之后安装客户端的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20240508220051603" src="/assets/images/image-20240508220051603-ad5f4c3a4ca9f260bb1167cce402bd00.png" width="1867" height="758" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508220233936" src="/assets/images/image-20240508220233936-7a3472475992143e9f7dad76a8310c07.png" width="618" height="483" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508220259435" src="/assets/images/image-20240508220259435-2a48ce9d60e60b3024a719dac95c291f.png" width="618" height="483" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508220344806" src="/assets/images/image-20240508220344806-344470b580f8784e48586a745245f4cd.png" width="618" height="483" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508220432257" src="/assets/images/image-20240508220432257-0207f0bff5211ae5d4321c079feee9fa.png" width="618" height="483" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508220524359" src="/assets/images/image-20240508220524359-5dccaa0a322bfb634f90f44b4845bd42.png" width="618" height="483" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508220537103" src="/assets/images/image-20240508220537103-a0e95f4cad93c1366c8b8bb2ee8dd4e7.png" width="616" height="450" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508220548855" src="/assets/images/image-20240508220548855-d8b6706fc48c9ae91c05fe0ed3530d9f.png" width="616" height="450" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508220601930" src="/assets/images/image-20240508220601930-a8ee0335814e7025ca68a175a5aeac65.png" width="618" height="483" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240508222052586" src="/assets/images/image-20240508222052586-9a47b3cf711b76f7f15a69723f16217c.png" width="618" height="483" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="获取链接并且连接到云服务器">获取链接并且连接到云服务器<a href="#获取链接并且连接到云服务器" class="hash-link" aria-label="获取链接并且连接到云服务器的直接链接" title="获取链接并且连接到云服务器的直接链接">​</a></h4>
<p><img decoding="async" loading="lazy" alt="image-20240510222040394" src="/assets/images/image-20240510222040394-0317263bf7ce7d7ad1595dc5434ee7e0.png" width="1920" height="879" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240510222223403" src="/assets/images/image-20240510222223403-dbdf8bb37fb4411922c47aad0fc0dfdc.png" width="1773" height="959" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240510222259940" src="/assets/images/image-20240510222259940-ce6f5b5fa05b59bc06564f8000870f22.png" width="1773" height="959" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>连接成功则表示现在设置的这个链接是确实可以连接到云服务器的，下一步我们要开始创建后端程序，更多的还是通过 API 来操作数据
库</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="生产环境与开发环境">生产环境与开发环境<a href="#生产环境与开发环境" class="hash-link" aria-label="生产环境与开发环境的直接链接" title="生产环境与开发环境的直接链接">​</a></h4>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># e.g. mongodb+srv://admin:kkkkkkkkkk@yyyyyyyy.hhhhhh.mongodb.net/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 对应的 .env 文件的配置如下</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># DB_HOST=yyyyyyyy.hhhhhh.mongodb.net</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># DB_PORT=27017</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># DB_NAME=&lt;改成你自己创建的数据库名字&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># DB_USER=admin</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># DB_PASS=kkkkkkkkkk</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>如果是本地开发的话，直接启动 dev 模式，然后用 compass 连接本地的数据库就可以实时看到最新的数据库数据总览了</p>
</blockquote>
<p><img decoding="async" loading="lazy" alt="image-20240511172301832" src="/assets/images/image-20240511172301832-72c09729232e07c5328cf88704c4c099.png" width="1772" height="983" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240511172316441" src="/assets/images/image-20240511172316441-3bd8eb92b06d14938d4441c97b7b6a52.png" width="1773" height="959" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="后端项目中初始化数据库配置">后端项目中初始化数据库配置<a href="#后端项目中初始化数据库配置" class="hash-link" aria-label="后端项目中初始化数据库配置的直接链接" title="后端项目中初始化数据库配置的直接链接">​</a></h2>
<p>首先进入项目根目录，访问 ./backend/package.json 文件，确定项目是否已经安装了 <code>mongoose</code> 依赖</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// package.json</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">&quot;name&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;backend&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">&quot;version&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;0.0.0&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">&quot;private&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token property" style="color:#9CDCFE">&quot;start&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;node ./bin/www&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">&quot;dependencies&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token property" style="color:#9CDCFE">&quot;cookie-parser&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;~1.4.4&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token property" style="color:#9CDCFE">&quot;debug&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;~2.6.9&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token property" style="color:#9CDCFE">&quot;dotenv&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;^16.4.5&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token property" style="color:#9CDCFE">&quot;express&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;~4.16.1&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token property" style="color:#9CDCFE">&quot;mongoose&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;^8.3.4&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token property" style="color:#9CDCFE">&quot;morgan&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;~1.9.1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>如果没有个 mongoose 这个依赖需要手动安装一下</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> mongoose</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 或者</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> mongoose</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="backend-目录下创建-models-文件夹">backend 目录下创建 models 文件夹<a href="#backend-目录下创建-models-文件夹" class="hash-link" aria-label="backend 目录下创建 models 文件夹的直接链接" title="backend 目录下创建 models 文件夹的直接链接">​</a></h3>
<ul>
<li>创建 index.js 文件，再此处统一引入所有的 model</li>
<li>同级目录下创建各个功能模块的 xxxModel.js,后续使用的时候只需要引入 models 这个文件然后做解构就可以了（这个文件夹中主要
是对各个功能的表做定义）</li>
<li>接着，在 routes/xxxController.js 文件中对各个模块的功能做封装，对应的 xxxRoute.js 中调用 controller 中的方法</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="models-中文件">models 中文件<a href="#models-中文件" class="hash-link" aria-label="models 中文件的直接链接" title="models 中文件的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// models/index.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">UserModel</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./userModel&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">PostModel</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./postModel&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入其他模块的模型...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#4EC9B0">UserModel</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#4EC9B0">PostModel</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 导出其他模块的模型...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// models/userModel.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> mongoose </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mongoose&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 定义用户模型的数据结构</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> userSchema </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">mongoose</span><span class="token class-name punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token class-name" style="color:rgb(78, 201, 176)">Schema</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">username</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">type</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">String</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">required</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">email</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">type</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">String</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">required</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">unique</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">password</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">type</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">String</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">required</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">createdAt</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">type</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Date</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">default</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Date</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">now</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 创建用户模型并导出</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">UserModel</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mongoose</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;User&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> userSchema</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">UserModel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// models/postModel.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> mongoose </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mongoose&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 定义帖子模型的数据结构</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> postSchema </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">mongoose</span><span class="token class-name punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token class-name" style="color:rgb(78, 201, 176)">Schema</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">title</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">type</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">String</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">required</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">type</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">String</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">required</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">author</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">type</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> mongoose</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access maybe-class-name" style="color:#4EC9B0">Schema</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access maybe-class-name" style="color:#4EC9B0">Types</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access maybe-class-name" style="color:#4EC9B0">ObjectId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">ref</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;User&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">required</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">createdAt</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">type</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Date</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">default</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Date</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">now</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 创建帖子模型并导出</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">PostModel</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mongoose</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">model</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Post&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> postSchema</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">PostModel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="routes-中文件">routes 中文件<a href="#routes-中文件" class="hash-link" aria-label="routes 中文件的直接链接" title="routes 中文件的直接链接">​</a></h4>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// controllers/userController.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">UserModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;../models&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 用户控制器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">UserController</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">createUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> newUser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">await</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">UserModel</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">create</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">body</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">status</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">201</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">newUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">status</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">500</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">message</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> userId </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">userId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> user </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">await</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">UserModel</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">findById</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">userId</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">status</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">404</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">message</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;User not found&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">status</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">200</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">user</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">status</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">500</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">message</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 其他用户操作方法...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">UserController</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// userRoutes.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;express&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> router </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access maybe-class-name" style="color:#4EC9B0">Router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> getUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> createUser </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./userController&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// GET 请求处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> getUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// POST 请求处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">router</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">post</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/:userId&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> createUser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 导出路由对象</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> router</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动项目用-postman-或者-apifox-来测试接口是否可以正常访问">启动项目，用 postman 或者 apifox 来测试接口是否可以正常访问<a href="#启动项目用-postman-或者-apifox-来测试接口是否可以正常访问" class="hash-link" aria-label="启动项目，用 postman 或者 apifox 来测试接口是否可以正常访问的直接链接" title="启动项目，用 postman 或者 apifox 来测试接口是否可以正常访问的直接链接">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="项目搭建">项目搭建<a href="#项目搭建" class="hash-link" aria-label="项目搭建的直接链接" title="项目搭建的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="利用常用的脚手架-create-react-app-和-express-generator-快速搭建项目">利用常用的脚手架 create-react-app 和 express-generator 快速搭建项目<a href="#利用常用的脚手架-create-react-app-和-express-generator-快速搭建项目" class="hash-link" aria-label="利用常用的脚手架 create-react-app 和 express-generator 快速搭建项目的直接链接" title="利用常用的脚手架 create-react-app 和 express-generator 快速搭建项目的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 创建后端项目目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">mkdir</span><span class="token plain"> surprise-box</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> suprise-box</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 使用 create-react-app 创建 react 项目</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npx create-react-app client</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 使用 express-generator 创建 express 后端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npx express-generator server</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> server</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 在 server 文件夹中安装依赖</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 回到项目根目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">..</span><span class="token plain">/</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 将 server 文件夹中的所有文件和子目录全部拷贝到项目根目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">cp</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-r</span><span class="token plain"> server/* </span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 删除原来的 server 目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-rf</span><span class="token plain"> server</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="调整前端配置支持前后端通信">调整前端配置:支持前后端通信<a href="#调整前端配置支持前后端通信" class="hash-link" aria-label="调整前端配置:支持前后端通信的直接链接" title="调整前端配置:支持前后端通信的直接链接">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>进入 client 文件夹，打开 package.json 文件更新 scripts 脚本</p></div></div>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">{</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &quot;name&quot;: &quot;client&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &quot;version&quot;: &quot;0.1.0&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &quot;private&quot;: true,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &quot;dependencies&quot;: {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;@testing-library/jest-dom&quot;: &quot;^5.17.0&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;@testing-library/react&quot;: &quot;^13.4.0&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;@testing-library/user-event&quot;: &quot;^13.5.0&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;react&quot;: &quot;^18.2.0&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;react-dom&quot;: &quot;^18.2.0&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;react-scripts&quot;: &quot;5.0.1&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;web-vitals&quot;: &quot;^2.1.4&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> },</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &quot;scripts&quot;: {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;start&quot;: &quot;react-scripts start&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;build&quot;: &quot;react-scripts build&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;test&quot;: &quot;react-scripts test&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;eject&quot;: &quot;react-scripts eject&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    &quot;proxy&quot;: &quot;http://localhost:5000/&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> },</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &quot;eslintConfig&quot;: {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;extends&quot;: [</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &quot;react-app&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &quot;react-app/jest&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   ]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> },</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> &quot;browserslist&quot;: {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;production&quot;: [</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &quot;&gt;0.2%&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &quot;not dead&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &quot;not op_mini all&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   ],</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &quot;development&quot;: [</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &quot;last 1 chrome version&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &quot;last 1 firefox version&quot;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">     &quot;last 1 safari version&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   ]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> }</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="项目启动">项目启动<a href="#项目启动" class="hash-link" aria-label="项目启动的直接链接" title="项目启动的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 根目录下启动 express 后端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> start</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 进入 client 目录启动前端项目</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="设置快速启动脚本">设置快速启动脚本<a href="#设置快速启动脚本" class="hash-link" aria-label="设置快速启动脚本的直接链接" title="设置快速启动脚本的直接链接">​</a></h3>
<p>在项目根目录下新建 start.sh 文件</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token shebang important">#!/bin/bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 启动 Express.js 后端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Starting Express.js backend...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> start </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 等待 Express.js 后端启动完成</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">sleep</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 进入 client 目录并启动 React 前端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">echo</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Starting React frontend...&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> client</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="项目配置-mongodb">项目配置 mongodb<a href="#项目配置-mongodb" class="hash-link" aria-label="项目配置 mongodb的直接链接" title="项目配置 mongodb的直接链接">​</a></h2>
<ol>
<li>安装 mongodb 依赖</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> mongodb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>根目录下创建 config 文件夹保存配置文件</li>
</ol>
<p>config/dbConfig.js 设置数据库配置信息</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 这是 MongoDB 连接字符串 URI</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">uri</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mongodb://localhost:27017/mydatabase&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 使用最新的连接器和拓扑检测器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">options</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">useNewUrlParser</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">useUnifiedTopology</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>在 express 的 app.js （即根目录下的 app.js）中引入 dbConfig 配置文件</li>
</ol>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// 引入所需模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> createError </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;http-errors&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 用于创建 HTTP 错误</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;express&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// Express 框架</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;path&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 处理文件路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> cookieParser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;cookie-parser&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 解析 cookie</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> logger </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;morgan&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// HTTP 请求日志记录器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入 MongoDB 相关模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> mongoose </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mongoose&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// MongoDB 驱动程序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入路由模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> indexRouter </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./routes/index&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 主页路由</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> usersRouter </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./routes/users&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 用户路由</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 创建 Express 应用程序实例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 连接 MongoDB 数据库</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">mongoose</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">connect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mongodb://localhost:27017/mydb&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token literal-property property" style="color:#9CDCFE">useNewUrlParser</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token literal-property property" style="color:#9CDCFE">useUnifiedTopology</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">then</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;MongoDB 连接成功&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword control-flow" style="color:#C586C0">catch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">err</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;MongoDB 连接失败:&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 设置视图引擎和视图文件夹路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">set</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;views&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">join</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;views&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">set</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;view engine&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;jade&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 使用中间件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function" style="color:rgb(220, 220, 170)">logger</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;dev&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 使用 morgan 记录日志</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 解析 JSON 请求体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">urlencoded</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">extended</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">false</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 解析 URL 编码的请求体</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function" style="color:rgb(220, 220, 170)">cookieParser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 解析 cookie</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">static</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">join</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;public&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 静态文件服务</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 使用路由</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> indexRouter</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 主页路由</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;/users&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> usersRouter</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 用户路由</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 处理 404 错误并转发到错误处理程序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> res</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> next</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token function" style="color:rgb(220, 220, 170)">next</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function" style="color:rgb(220, 220, 170)">createError</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">404</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 创建 404 错误并传递给错误处理程序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 错误处理程序</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">err</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> req</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> res</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> next</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 设置局部变量，仅在开发环境中提供错误信息</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">locals</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">message</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">locals</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">error</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> req</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;env&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;development&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">?</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 渲染错误页面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">status</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">status</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">500</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 设置响应状态码</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">render</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;error&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 渲染 error.jade 视图</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 导出 Express 应用程序实例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>优化一下 app.js 文件</li>
</ol>
<blockquote>
<p>将路由、数据库、中间件的配置都抽离出来，以便后续维护</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">/* app.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入所需模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;express&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;path&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> logger </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;morgan&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入配置模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> dbConfig </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./config/database&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> routesConfig </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./config/routes&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> middlewaresConfig </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./config/middlewares&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 创建 Express 应用程序实例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 配置数据库连接</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">dbConfig</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">connect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 设置视图引擎和视图文件夹路径</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">set</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;views&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">join</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;views&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">set</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;view engine&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;jade&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 使用中间件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function" style="color:rgb(220, 220, 170)">logger</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;dev&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">middlewaresConfig</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">setup</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 配置路由</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">routesConfig</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">setup</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 导出 Express 应用程序实例</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">/* db.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入所需模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> mongoose </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mongoose&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 数据库连接配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> dbConfig </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">url</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mongodb://localhost:27017/mydatabase&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// MongoDB连接URL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">connect</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    mongoose</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">connect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">this</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">useNewUrlParser</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">useUnifiedTopology</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">true</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">then</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;MongoDB connected&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token keyword control-flow" style="color:#C586C0">catch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">err</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">error</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;MongoDB connection error:&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 导出数据库连接配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> dbConfig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">/* middlewares */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 引入所需模块</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> express </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;express&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> cookieParser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;cookie-parser&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;path&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 中间件配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> middlewaresConfig </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">setup</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">urlencoded</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#9CDCFE">extended</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">false</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token function" style="color:rgb(220, 220, 170)">cookieParser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    app</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">use</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">express</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">static</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">join</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;../public&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 可以添加更多中间件配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// 导出中间件配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> middlewaresConfig</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb-数据库安装">MongoDB 数据库安装<a href="#mongodb-数据库安装" class="hash-link" aria-label="MongoDB 数据库安装的直接链接" title="MongoDB 数据库安装的直接链接">​</a></h2>
<p>未完待续</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/mongodb">mongodb</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/express">express</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/node">node</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/react">React</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/shopify-github-action">shopify项目设置自动化部署</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-05-04T00:00:00.000Z">2024年5月4日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="question">Question<a href="#question" class="hash-link" aria-label="Question的直接链接" title="Question的直接链接">​</a></h2>
<ol>
<li>原生的 shopify 主题开发中引入了 <code>tailwind</code>、<code>webpack</code> 等编译工具，本地开发的时候控制台一直告警</li>
<li>在根目录中引入除了主题文件以外的其他文件时，无法使用 <code>shopify theme push</code> 等 shopify/cli 工具来预览在线开发主题</li>
<li>有时候在网页编辑器中修改主题之后,直接用 <code>shopify theme pull</code> 来拉取主题,会直接覆盖/移除本地其他重要文件</li>
<li>开发和用户环境有冲突，开发期间，shopify 店铺有数据增减，与 shopify 店铺直连的分支会接收来自店铺的一些更新，这部分更新
需要可以更新到开发分支</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解决方案">解决方案<a href="#解决方案" class="hash-link" aria-label="解决方案的直接链接" title="解决方案的直接链接">​</a></h2>
<ol>
<li>维护一个单独的目录来存放主题文件，支持上传、下拉主题文件</li>
<li>创建 action 自动化部署来清理出一个干净的分支同步 shopify 店铺当前在线主题</li>
<li>同时在 dev 项目的 shopify 文件夹中维护另一个 github 地址来更新最新的 main 分支</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="具体操作">具体操作<a href="#具体操作" class="hash-link" aria-label="具体操作的直接链接" title="具体操作的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="创建-github-actions-工作流">创建 Github Actions 工作流<a href="#创建-github-actions-工作流" class="hash-link" aria-label="创建 Github Actions 工作流的直接链接" title="创建 Github Actions 工作流的直接链接">​</a></h3>
<p>github 仓库中，根目录中创建 <code>.github/workflows/sync-shopify-to-main.yml</code> 目录</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token key atrule" style="color:#569CD6">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Sync Shopify Folder to Main</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token key atrule" style="color:#569CD6">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token key atrule" style="color:#569CD6">push</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token key atrule" style="color:#569CD6">branches</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> dev</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token key atrule" style="color:#569CD6">jobs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token key atrule" style="color:#569CD6">sync-shopify</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token key atrule" style="color:#569CD6">runs-on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> ubuntu</span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain">latest</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token key atrule" style="color:#569CD6">steps</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#569CD6">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Checkout dev branch</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">uses</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> actions/checkout@v2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">with</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">          </span><span class="token key atrule" style="color:#569CD6">ref</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> dev</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#569CD6">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Copy Shopify folder</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">|</span><span class="token scalar string" style="color:rgb(206, 145, 120)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token scalar string" style="color:rgb(206, 145, 120)">          mkdir shopify_copy</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token scalar string" style="color:rgb(206, 145, 120)">          cp -R ./shopify/* shopify_copy/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#569CD6">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Checkout main branch</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">uses</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> actions/checkout@v2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">with</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">          </span><span class="token key atrule" style="color:#569CD6">ref</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">          </span><span class="token key atrule" style="color:#569CD6">persist-credentials</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#569CD6">false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#569CD6">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Copy files to main</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">|</span><span class="token scalar string" style="color:rgb(206, 145, 120)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token scalar string" style="color:rgb(206, 145, 120)">          cp -R shopify_copy/* .</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#569CD6">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Configure git</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">|</span><span class="token scalar string" style="color:rgb(206, 145, 120)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token scalar string" style="color:rgb(206, 145, 120)">          git config --global user.name &#x27;github-actions[bot]&#x27;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token scalar string" style="color:rgb(206, 145, 120)">          git config --global user.email &#x27;github-actions[bot]@users.noreply.github.com&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#569CD6">name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Commit changes</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">|</span><span class="token scalar string" style="color:rgb(206, 145, 120)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token scalar string" style="color:rgb(206, 145, 120)">          git add .</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token scalar string" style="color:rgb(206, 145, 120)">          git commit -m &quot;Sync Shopify folder from dev branch&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token scalar string" style="color:rgb(206, 145, 120)">          git push origin main</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token key atrule" style="color:#569CD6">env</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">          </span><span class="token key atrule" style="color:#569CD6">GITHUB_TOKEN</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> secrets.GITHUB_TOKEN </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>触发条件：工作流在 dev 分支有推送事件时触发</li>
<li>Checkout dev 分支：使用 actions/checkout@v2 操作从 dev 分支检出代码</li>
<li>复制 Shopify 文件夹：将./shopify 文件夹中的所有内容复制到一个临时目录 shopify_copy 中</li>
<li>Checkout main 分支：再次使用 actions/checkout@v2 操作，这次检出 main 分 支，并取消 persist-credentials 以防止凭证问题</li>
<li>复制文件到 main：将 shopify_copy 中的内容复制到当前工作目录（即 main 分支的根目录）</li>
<li>配置 Git：设置 Git 用户信息，以便 GitHub Actions 机器人能够提交更改</li>
<li>提交更改：添加、提交并推送更改到 main 分支。这里使用了 GitHub 提供的 GITHUB_TOKEN，该令牌由 GitHub Actions 自动提供，
并在运行工作流时注入到环境中</li>
</ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/shopify">shopify</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/github-action">github/action</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/liquid-basic">Shopify Liquid</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-11T00:00:00.000Z">2024年4月11日</time> · <!-- -->阅读需 6 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="组成">组成<a href="#组成" class="hash-link" aria-label="组成的直接链接" title="组成的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="object-对象">object 对象<a href="#object-对象" class="hash-link" aria-label="object 对象的直接链接" title="object 对象的直接链接">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> page</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">output</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Introduction</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tag-标记">tag 标 记<a href="#tag-标记" class="hash-link" aria-label="tag 标记的直接链接" title="tag 标记的直接链接">​</a></h3>
<p>所有的逻辑都是用 <code>{%</code> 和 <code>%}</code> 包裹的可以用来 <strong>变量赋值</strong>、<strong>条件判断</strong>、<strong>循环</strong></p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> user </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    Hello </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> user</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain">name </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">endif</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="filter-过滤器">filter 过滤器<a href="#filter-过滤器" class="hash-link" aria-label="filter 过滤器的直接链接" title="filter 过滤器的直接链接">​</a></h3>
<p>使用 <code>|</code> 过滤输出内容</p>
<div class="language-ruby codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ruby codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;/my/fancy/url&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> append</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;.html&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token symbol">output</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">my</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">fancy</span><span class="token operator" style="color:rgb(212, 212, 212)">/</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">html</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">多个过滤器的时候，按从左到右的顺序执行</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;adam!&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> capitalize </span><span class="token operator" style="color:rgb(212, 212, 212)">|</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">prepend</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string-literal string" style="color:rgb(206, 145, 120)">&#x27;Hello &#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token symbol">output</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Hello Adam</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="操作符">操作符<a href="#操作符" class="hash-link" aria-label="操作符的直接链接" title="操作符的直接链接">​</a></h2>
<p><strong>八个基本操作符</strong>和一个 <strong>contains</strong></p>
<ul>
<li><code>==</code> 相等</li>
<li><code>!=</code> 不相等</li>
<li><code>&gt;</code> 大于</li>
<li><code>&lt;</code> 小于</li>
<li><code>&gt;=</code> 大于或等于</li>
<li><code>&lt;=</code> 小于或等于</li>
<li><code>or</code> 逻辑或</li>
<li><code>and</code> 逻辑与</li>
<li><code>contains</code> 只能用来搜索字符串</li>
</ul>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> product</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title contains </span><span class="token string single-quoted-string" style="color:rgb(206, 145, 120)">&#x27;Pack&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    This product&#x27;s title contains the word Pack</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">endif</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="真值与假值">真值与假值<a href="#真值与假值" class="hash-link" aria-label="真值与假值的直接链接" title="真值与假值的直接链接">​</a></h2>
<p><code>nil</code> 和 <code>false</code> 之外都是 <code>true</code></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="数据类型">数据类型<a href="#数据类型" class="hash-link" aria-label="数据类型的直接链接" title="数据类型的直接链接">​</a></h2>
<p>String、Number、Boolean、Nil、Array</p>
<blockquote>
<p>数组的初始化只能要通过 split 过滤器将一个字符串分割成一个子字符串数组</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="控制输出的空白字符">控制输出的空白字符<a href="#控制输出的空白字符" class="hash-link" aria-label="控制输出的空白字符的直接链接" title="控制输出的空白字符的直接链接">​</a></h2>
<p>使用变量定义语句，如果使用 <code>{% %}</code> 包裹语句，这行定义语法也会渲染出来，表现是多了一个空行</p>
<p>要解决这个问题就是 在 <code>{% %}</code> 之间加上 <code>-</code> 变成 <code>{%- -%}</code> 这样就不会出现空白行了</p>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> assign username </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string double-quoted-string" style="color:rgb(206, 145, 120)">&quot;John G. Chalmers-Smith&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> username </span><span class="token keyword" style="color:#C586C0">and</span><span class="token plain"> username</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain">size </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  Wow</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> username </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> you have a long name</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  Hello there</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">endif</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">output</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  Wow</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> John </span><span class="token constant" style="color:#4FC1FF">G</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> Chalmers</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">Smith</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> you have a long name</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> assign username </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string double-quoted-string" style="color:rgb(206, 145, 120)">&quot;John G. Chalmers-Smith&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> username </span><span class="token keyword" style="color:#C586C0">and</span><span class="token plain"> username</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain">size </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  Wow</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> username </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> you have a long name</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  Hello there</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">endif</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">output</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Wow</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> John </span><span class="token constant" style="color:#4FC1FF">G</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain"> Chalmers</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain">Smith</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> you have a long name</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tags">tags<a href="#tags" class="hash-link" aria-label="tags的直接链接" title="tags的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="注释">注释<a href="#注释" class="hash-link" aria-label="注释的直接链接" title="注释的直接链接">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> comment </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">/*这是注释内容*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> endcomment </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="控制流">控制流<a href="#控制流" class="hash-link" aria-label="控制流的直接链接" title="控制流的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="if---条件成立时候执行">if - 条件成立时候执行<a href="#if---条件成立时候执行" class="hash-link" aria-label="if - 条件成立时候执行的直接链接" title="if - 条件成立时候执行的直接链接">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> product</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:rgb(206, 145, 120)">&#x27;Awesome Shoes&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  These shoes are awesome</span><span class="token operator" style="color:rgb(212, 212, 212)">!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">endif</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unless---条件不成立的时候执行">unless - 条件不成立的时候执行<a href="#unless---条件不成立的时候执行" class="hash-link" aria-label="unless - 条件不成立的时候执行的直接链接" title="unless - 条件不成立的时候执行的直接链接">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> unless product</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:rgb(206, 145, 120)">&#x27;Awesome Shoes&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  These shoes are not awesome</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> endunless </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain">comment 等同于 endcomment</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> product</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain">title </span><span class="token operator" style="color:rgb(212, 212, 212)">!=</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:rgb(206, 145, 120)">&#x27;Awesome Shoes&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  These shoes are not awesome</span><span class="token operator" style="color:rgb(212, 212, 212)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">endif</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="elsifelse">elsif/else<a href="#elsifelse" class="hash-link" aria-label="elsif/else的直接链接" title="elsif/else的直接链接">​</a></h3>
<div class="language-php codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-php codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> assign handle </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string single-quoted-string" style="color:rgb(206, 145, 120)">&#x27;cake&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">case</span><span class="token plain"> handle </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> when </span><span class="token string single-quoted-string" style="color:rgb(206, 145, 120)">&#x27;cake&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        This is a cake</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> when </span><span class="token string single-quoted-string" style="color:rgb(206, 145, 120)">&#x27;cookie&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        This is a cookie</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        This is not a cake </span><span class="token keyword" style="color:#C586C0">or</span><span class="token plain"> a cookie</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token plain"> endcase </span><span class="token operator" style="color:rgb(212, 212, 212)">%</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="casewhen">case/when<a href="#casewhen" class="hash-link" aria-label="case/when的直接链接" title="case/when的直接链接">​</a></h3>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="迭代循环">迭代/循环<a href="#迭代循环" class="hash-link" aria-label="迭代/循环的直接链接" title="迭代/循环的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="for">for<a href="#for" class="hash-link" aria-label="for的直接链接" title="for的直接链接">​</a></h3>
<p>for-in-endfor</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="break-停止循环">break 停止循环<a href="#break-停止循环" class="hash-link" aria-label="break 停止循环的直接链接" title="break 停止循环的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="continue-跳出当前循环">continue 跳出当前循环<a href="#continue-跳出当前循环" class="hash-link" aria-label="continue 跳出当前循环的直接链接" title="continue 跳出当前循环的直接链接">​</a></h3>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="forparameters">for(parameters)<a href="#forparameters" class="hash-link" aria-label="for(parameters)的直接链接" title="for(parameters)的直接链接">​</a></h3>
<p>limit 限制循环次数 offset 指定循环开始索引号 range 指定循环范围 reversed 反转循环</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="filters">filters<a href="#filters" class="hash-link" aria-label="filters的直接链接" title="filters的直接链接">​</a></h2>
<ul>
<li>
<p>abs 绝对值</p>
</li>
<li>
<p>append 拼接</p>
</li>
<li>
<p>at_least 限制最小值</p>
</li>
<li>
<p>at_most 限制最大值</p>
</li>
<li>
<p>capitalize 首字母大写</p>
</li>
<li>
<p>compact 删除数组中所有 nil</p>
</li>
<li>
<p>concat 拼接数组</p>
</li>
<li>
<p>date 时间戳格式转化（注意 now 是生成页面的时间，而不是用户浏览时的时间）</p>
</li>
<li>
<p>default 默认值（为空时候使用）</p>
</li>
<li>
<p>divided_by 除法（结果的数据类型与除数保持一致）</p>
</li>
<li>
<p>minus: a 减去 a</p>
</li>
<li>
<p>modulo: a 取模</p>
</li>
<li>
<p>plus: a 加上 a</p>
</li>
<li>
<p>times: a 乘以 a</p>
</li>
<li>
<p>downcase 转小写</p>
</li>
<li>
<p>upcase 大写</p>
</li>
<li>
<p>first 数组第一项</p>
</li>
<li>
<p>last 数组最后一项</p>
</li>
<li>
<p>floor 去小数点后位数</p>
</li>
<li>
<p>ceil 向上取整 3.1+ --&gt; 4</p>
</li>
<li>
<p>join:&#x27;key&#x27; 用 key 连接所有子项并输出字符串</p>
</li>
<li>
<p>lstrip 删除左侧空白符</p>
</li>
<li>
<p>rstrip 删除右侧空白符</p>
</li>
<li>
<p>strip 删除两侧空白符</p>
</li>
<li>
<p>strip_html 删除所有 html 标签</p>
</li>
<li>
<p>strip_newlines 删除所有换行符号</p>
</li>
<li></li>
<li>
<p>map:&#x27;key&#x27; 获取对象中属性名为 key 的值</p>
</li>
<li>
<p>newline_to_br 把空行转成 <br> 标签</p>
</li>
<li>
<p>prepend:&#x27;a&#x27; 字符串之前加上 a</p>
</li>
<li>
<p>remove:&#x27;a&#x27; 删除 a 字符</p>
</li>
<li>
<p>remove_first: &#x27;a&#x27; 删除首次出现的 a 字符</p>
</li>
<li>
<p>replace:&#x27;a&#x27;,&#x27;b&#x27; 将所有 a 换成 b</p>
</li>
<li>
<p>replace_first:&#x27;a&#x27;,&#x27;b&#x27; 将首次出现的 a 换成 b</p>
</li>
<li>
<p>reverse 反转数组</p>
</li>
<li>
<p>round 四舍五入</p>
</li>
<li>
<p>size 字符长度或者数组长度</p>
</li>
<li>
<p>slice<!-- -->:start<!-- -->,len 一个数值的时候直接截取该索引位置，负数则从末尾开始向前计数</p>
<blockquote>
<p>正向初始索引是 0，反向初始索引是 -1</p>
</blockquote>
</li>
<li>
<p>sort 排序，区分大小写(先大写)</p>
</li>
<li>
<p>split:&#x27;,&#x27; 用<code>,</code> 分割字符串为数组</p>
</li>
<li>
<p>truncate<!-- -->:maxlen<!-- -->,affix 限制长度，并添加尾缀,如果长度小于 len，尾部自动补上省略号</p>
</li>
<li>
<p>truncatewords 同上，但是截断是字符个数（英文单词有区别）</p>
</li>
<li>
<p>uniq 删除重复项</p>
</li>
<li>
<p>sort_natural 排序，不分大小写</p>
</li>
<li>
<p>url_decode 解码 URL</p>
</li>
<li>
<p>url_encode 编码 URL</p>
</li>
<li>
<p>escape 字符转义（才能用于 URL）</p>
</li>
<li>
<p>escape_once 对于已转义的字符不做处理</p>
</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/liquid">liquid</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/shopify">shopify</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/shopify-themekit-dev">shopify Themekit开发</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-11T00:00:00.000Z">2024年4月11日</time> · <!-- -->阅读需 11 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="开发前准备">开发前准备<a href="#开发前准备" class="hash-link" aria-label="开发前准备的直接链接" title="开发前准备的直接链接">​</a></h2>
<ol>
<li>
<p>注册一个 <a href="https://www.shopify.com/partners" target="_blank" rel="noopener noreferrer">shopify partner</a> 的账户</p>
</li>
<li>
<p>登录到用户后台 dashboard 中去,后台登陆的格式大概是 <code>https://partners.shopify.com/xxxxx?signup_intent=xxx</code></p>
<p><img decoding="async" loading="lazy" alt="init shopify partner" src="/assets/images/image-cf590e0fd23034c63d02d5205703e55f.png" width="2560" height="1228" class="img_ev3q"></p>
</li>
<li>
<p>安装 @shopify/cli 和 @shopify/theme (这是基于已经有的项目做的初始化操作)</p>
</li>
<li>
<p>运行 shopify 项目需要有 Ruby 的环境，所以还需要安装一下 Ruby（首选推荐安装 with devkit 版本的 Ruby）</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="关于-shopify-的-theme-与-app">关于 shopify 的 theme 与 app<a href="#关于-shopify-的-theme-与-app" class="hash-link" aria-label="关于 shopify 的 theme 与 app的直接链接" title="关于 shopify 的 theme 与 app的直接链接">​</a></h2>
<p>theme 与 app 有不同的职责和作用：</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>主题（Theme）：主题是定义了商店外观和布局的模板文件集合。在 Shopify 主题开发中，您主要是对页面的 HTML 结构和 Liquid 模板
进行操作，以实现商店的视觉效果和布局。<strong>可以使用 HTML 和 Liquid 模板语言来动态生成页面内容，包括产品列表、购物车、结账页
面等，从而实现页面的视图渲染和交互效果</strong>。</p></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>应用（App）：应用是为商店提供特定功能或服务的独立软件。在 Shopify 应用开发中，您可以使用后端技术（如</div><div class="admonitionContent_BuS1"><p>Node.js、PHP）和前端技术（如 JavaScript、HTML）来开发您的应用。您的应用可以<strong>通过 Shopify API 与商店进行交互，例如获取商
店数据、修改产品信息、处理订单等</strong>。应用通常是独立于主题的，可以实现更多的功能和定制选项。</p></div></div>
<p>总的来说，主题和应用在 Shopify 中具有不同的功能和作用。</p>
<ul>
<li>主题主要负责定义商店的外观和布局</li>
<li>应用则负责为商店提供特定的功能和服务</li>
</ul>
<p>通过主题和应用的结合，您可以为商店提供丰富多样的功能和个性化的外观，从而满足不同商家的需求。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="创建一个开发商店">创建一个开发商店<a href="#创建一个开发商店" class="hash-link" aria-label="创建一个开发商店的直接链接" title="创建一个开发商店的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image-20240410115518430" src="/assets/images/image-20240410115518430-dd53011beafb76fce96a9115b1d2034e.png" width="1995" height="725" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240410120045640" src="/assets/images/image-20240410120045640-14099825c5aef289a0e719ae40b0ec9f.png" width="1231" height="1166" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>商店创建完毕之后可以直接 install 一个默认的 theme，点击小眼睛就可以预览店铺效果了</p></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240410134904532" src="/assets/images/image-20240410134904532-4c7c25cc7b527fa25864f301481e103a.png" width="1614" height="838" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="开发中的店铺有一个访问密码可以把密码提供给团队进行写作">开发中的店铺有一个访问密码，可以把密码提供给团队进行写作<a href="#开发中的店铺有一个访问密码可以把密码提供给团队进行写作" class="hash-link" aria-label="开发中的店铺有一个访问密码，可以把密码提供给团队进行写作的直接链接" title="开发中的店铺有一个访问密码，可以把密码提供给团队进行写作的直接链接">​</a></h2>
<p><img decoding="async" loading="lazy" alt="image-20240410135205678" src="/assets/images/image-20240410135205678-94448af046d21865858e376599521b3c.png" width="1593" height="826" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="点击-customize-可在图形化操作界面修改店铺">点击 customize 可在图形化操作界面修改店铺<a href="#点击-customize-可在图形化操作界面修改店铺" class="hash-link" aria-label="点击 customize 可在图形化操作界面修改店铺的直接链接" title="点击 customize 可在图形化操作界面修改店铺的直接链接">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>在这里可以快速定位模块所处的文件位置</p></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240410142059896" src="/assets/images/image-20240410142059896-1dd71847e67cf4df933b32966359bc9f.png" width="1508" height="782" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="安装-shopify-themekit-更好的管理-shopify-主题">安装 shopify themekit 更好的管理 shopify 主题<a href="#安装-shopify-themekit-更好的管理-shopify-主题" class="hash-link" aria-label="安装 shopify themekit 更好的管理 shopify 主题的直接链接" title="安装 shopify themekit 更好的管理 shopify 主题的直接链接">​</a></h2>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">theme get </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--password</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">PASSWORD</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--store</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">xxxx.myshopify.com </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--themeid</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">xxxxx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>
<p>在开发主题之前，必须生成一个 API key 去连接整个商店</p>
</li>
<li>
<p>进入 partner 账户后台，点击 <code>Apps</code>，点击 <code>create app</code>，然后用 shopify partner 来创建 app：<code>create app manually</code>（通过
app 的密钥来开发主题）</p>
<p><img decoding="async" loading="lazy" alt="image-20240411090938883" src="/assets/images/image-20240411090938883-b74ba327f991e662a6696163f6a11c87.png" width="1641" height="842" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240411092512487" src="/assets/images/image-20240411092512487-8559618199b51b487cb5fe8662da6b8c.png" width="1583" height="502" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240411092526210" src="/assets/images/image-20240411092526210-efbbcf0cdd3d2fa767d1218336a2ac6d.png" width="1013" height="403" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240411092808977" src="/assets/images/image-20240411092808977-34be08f4597034dfb72d1689d8402e84.png" width="1033" height="369" class="img_ev3q"></p>
</li>
<li>
<p>创建成功之后会直接进入该 app 的详情页面，点击 overview 查看这个 app 的 <code>client secret</code>(这就是 themekit 中所需要的
password 的值，直接拷贝使用)</p>
<p><img decoding="async" loading="lazy" alt="image-20240411093116582" src="/assets/images/image-20240411093116582-535744f97fcae5358e7480d649ea74d1.png" width="1573" height="698" class="img_ev3q"></p>
</li>
<li>
<p>至于 store 这个值，点击店铺预览效果，新打开的窗口链接中就是我们想要的 store 的值</p>
<p><img decoding="async" loading="lazy" alt="image-20240411093308187" src="/assets/images/image-20240411093308187-37931c03b62ee2dac16fdfdee833fd6b.png" width="312" height="464" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240411093335554" src="data:image/png;base64,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" width="814" height="110" class="img_ev3q"></p>
</li>
<li>
<p>接下来是关于 <code>themeid</code> 的属性值获取，点击 <code>online store</code>，点击想要的编辑的主题的 <code>customize</code> 按钮，跳转的链接中就可以
直接获取这个值</p>
<p><img decoding="async" loading="lazy" alt="image-20240411093606390" src="/assets/images/image-20240411093606390-ddf79375438ecb2505e1c05e57adfcaa.png" width="1539" height="781" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240411093622490" src="data:image/png;base64,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" width="814" height="48" class="img_ev3q"></p>
</li>
<li>
<p>获取了以上数据之后就可以使用 themekit 的 api 来 <strong>获取和编辑</strong> 主题了</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">theme get </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--password</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">换成你的 clientID</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--store</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">换成你的 store 域名</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--themeid</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">换成你需要编辑的主题id</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="theme-开发发布">theme 开发——发布<a href="#theme-开发发布" class="hash-link" aria-label="theme 开发——发布的直接链接" title="theme 开发——发布的直接链接">​</a></h2>
<ol>
<li>
<p>安装 @shopify/cli</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-g</span><span class="token plain"> @shopify/cli @shopify/theme</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>获取主题代码</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>本地创建主题</p></div></div>
<p>使用 @shopify/cli 创建本地主题</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme init</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 会要求你输入主题的名称</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">cd</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">your-theme-name</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>拉取店铺主题进行开发</p></div></div>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme pull </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-store</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">store-name</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>本地运行</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme dev </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--store</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">your-store-name</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 启动完毕之后直接在命令行随便点击一下就可以获得本地预览的地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 一般情况下，在 9292 端口不被占用的时候，都  是 使用 http://localhost:9292 OR http://127.0.0.1:9292</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>主题上传</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme push </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--unpublished</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 这是将目前主题当作首次上传、未发布的主题</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme push</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 这是针对已经上传的主题，更新主题的代码</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>
<p>发布主题</p>
<p><strong>PS: 一定要确保主题在本地开发完毕之后，才能发布主题</strong></p>
</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme publish</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="工程化项目">工程化项目<a href="#工程化项目" class="hash-link" aria-label="工程化项目的直接链接" title="工程化项目的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-laravel-mixwebpack-包  装器做代码优化">安装 laravel mix（webpack 包装器）做代码优化<a href="#安装-laravel-mixwebpack-包装器做代码优化" class="hash-link" aria-label="安装 laravel mix（webpack 包装器）做代码优化的直接链接" title="安装 laravel mix（webpack 包装器）做代码优化的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 安装开发依赖</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> laravel-mix --save-dev</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 项目根目录下，创建 webpack.mix.js 配置文件</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">touch</span><span class="token plain"> webpack.mix.js</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="配置-webpackmixjs-文件处理-jsscss-文件">配置 webpack.mix.js 文件，处理 js、scss 文件<a href="#配置-webpackmixjs-文件处理-jsscss-文件" class="hash-link" aria-label="配置 webpack.mix.js 文件，处理 js、scss 文件的直接链接" title="配置 webpack.mix.js 文件，处理 js、scss 文件的直接链接">​</a></h3>
<blockquote>
<p>根目录下创建以下文件</p>
</blockquote>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">├── src</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    └── js</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">       └── app.js</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    └── scss</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">       └── app.scss</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> mix </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;laravel-mix&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">mix</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">js</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;src/js/app.js&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;assets&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sass</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;src/scss/app.scss&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;assets&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// .js(&#x27;src/js/app.js&#x27;, &#x27;assets&#x27;) 从入口文件 app.js 中进入，处理文件到 assets 目录</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)">// .sass(&#x27;src/scss/app.scss&#x27;, &#x27;assets&#x27;) 从样式文件 app.scss 中进入，处理文件到 assets 目录</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="appscss-中重置网页-css">app.scss 中重置网页 css<a href="#appscss-中重置网页-css" class="hash-link" aria-label="app.scss 中重置网页 css的直接链接" title="app.scss 中重置网页 css的直接链接">​</a></h3>
<div class="language-scss codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scss codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token selector" style="color:rgb(215, 186, 125)">body </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">font-family</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;Open Sans&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> sans-serif</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">font-size</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">16</span><span class="token unit" style="color:#B5CEA8">px</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">line-height</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">color</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token hexcode color" style="color:#B5CEA8">#333</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token property" style="color:#9CDCFE">background-color</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token hexcode color" style="color:#B5CEA8">#fff</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="启动编译">启动编译<a href="#启动编译" class="hash-link" aria-label="启动编译的直接链接" title="启动编译的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">#  启动编译的同时，会自动安装 sass-loader 、sass、resolve-url-loader 三个loder 处理器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npx mix</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 热更新编译</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npx mix </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--watch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">$ npx mix</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        Additional dependencies must be installed. This will only take a moment.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        Running: </span><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> sass-loader@^12.1.0 sass resolve-url-loader@^5.0.0 </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--dev</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        Finished. Please run Mix again.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li>sass-loader 加载和转换 scss 文件</li>
<li>resolve-url-loader 处理 css 相对路径（sass 中的 url()）</li>
<li>sass sass 预处理器，用来编写样式文件的</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装-tailwind">安装 tailwind<a href="#安装-tailwind" class="hash-link" aria-label="安装 tailwind的直接链接" title="安装 tailwind的直接链接">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 安装依赖</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> tailwindcss </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-D</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 初始化，获得一个配置文件 tailwind.config.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">npx tailwindcss init</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 如果报错 postcss not found，需要再安装一个 postcss</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tailwindcss-配置-tailwindconfigjs">tailwindcss 配置 tailwind.config.js<a href="#tailwindcss-配置-tailwindconfigjs" class="hash-link" aria-label="tailwindcss 配置 tailwind.config.js的直接链接" title="tailwindcss 配置 tailwind.config.js的直接链接">​</a></h3>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 监听文件变化来生成对应的 css</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token literal-property property" style="color:#9CDCFE">content</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./config/*.json&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./layout/*.liquid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./assets/*.liquid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./sections/*.liquid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./snippets/*.liquid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./templates/*.liquid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./templates/*.json&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;./templates/customers/*.liquid&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="设置-larevel-mix-对-tailwind-代码做处理">设置 larevel-mix 对 tailwind 代码做处理<a href="#设置-larevel-mix-对-tailwind-代码做处理" class="hash-link" aria-label="设置 larevel-mix 对 tailwind 代码做处理的直接链接" title="设置 larevel-mix 对 tailwind 代码做处理的直接链接">​</a></h3>
<blockquote>
<p>覆盖前面的 css 重置代码</p>
</blockquote>
<div class="language-css codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-css codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">/* app.scss */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token atrule rule" style="color:#C586C0">@tailwind</span><span class="token atrule" style="color:#569CD6"> base</span><span class="token atrule punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token atrule rule" style="color:#C586C0">@tailwind</span><span class="token atrule" style="color:#569CD6"> components</span><span class="token atrule punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token atrule rule" style="color:#C586C0">@tailwind</span><span class="token atrule" style="color:#569CD6"> utilities</span><span class="token atrule punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>同时需要在 webpack.mix.js 中引入 tailwind，让 webpack 处理 tailwind 的样式文件</p>
</blockquote>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">/* webpack.mix.js */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> mix </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;laravel-mix&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> tailwindcss </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">require</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;tailwindcss&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">mix</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">js</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;src/js/app.js&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;assets&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">sass</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;src/js/app.scss&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;assets&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">options</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token literal-property property" style="color:#9CDCFE">processCssUrls</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">false</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 禁止对 css 中的 url 做处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token literal-property property" style="color:#9CDCFE">postCss</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token function" style="color:rgb(220, 220, 170)">tailwindcss</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;tailwind.config.js&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 处理 css 文件的时候使用postcss插件，其中包含 tailwind css</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="引入-daisyui-补充组件库">引入 daisyUI 补充组件库<a href="#引入-daisyui-补充组件库" class="hash-link" aria-label="引入 daisyUI 补充组件库的直接链接" title="引入 daisyUI 补充组件库的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> i </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-D</span><span class="token plain"> daisyui@latest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>配置到 tailwind 中去使用</p>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">/** @type {import(&#x27;tailwindcss&#x27;).Config} */</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">module.exports = {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> content: [</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &#x27;./config/*.json&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &#x27;./layout/*.liquid&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &#x27;./assets/*.liquid&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &#x27;./sections/*.liquid&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &#x27;./snippets/*.liquid&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &#x27;./templates/*.liquid&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &#x27;./templates/*.json&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   &#x27;./templates/customers/*.liquid&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> ],</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  theme: {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    extend: {},</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    screens: {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">      mb: { max: &#x27;599px&#x27; }, // 移动端</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">      tb: { min: &#x27;600px&#x27;, max: &#x27;1365px&#x27; }, // 平板</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">      pc: { min: &#x27;1366px&#x27; }, // pc</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    },</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  },</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  plugins: [require(&#x27;daisyui&#x27;)],</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  daisyui: {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    prefix: &#x27;ds&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  },</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="安装并引入-aplinejquery">安装并引入 Apline（jquery）<a href="#安装并引入-aplinejquery" class="hash-link" aria-label="安装并引入 Apline（jquery）的直接链接" title="安装并引入 Apline（jquery）的直接链接">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> alpinejs</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">/* app.js*/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword module" style="color:#C586C0">import</span><span class="token plain"> </span><span class="token imports maybe-class-name" style="color:#4EC9B0">Alpine</span><span class="token plain"> </span><span class="token keyword module" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;alpinejs&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token dom variable" style="color:rgb(156, 220, 254)">window</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access maybe-class-name" style="color:#4EC9B0">Alpine</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#4EC9B0">Alpine</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token maybe-class-name" style="color:#4EC9B0">Alpine</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="themeliquid-中引入样式文件js-文件">theme.liquid 中引入样式文件、js 文件<a href="#themeliquid-中引入样式文件js-文件" class="hash-link" aria-label="theme.liquid 中引入样式文件、js 文件的直接链接" title="theme.liquid 中引入样式文件、js 文件的直接链接">​</a></h3>
<p>随后在 theme.liquid 文件中使用输出的 assets/app.js assets/app.css</p>
<div class="language-liquid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-liquid codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">{% comment %} 针对不需要做 defer、async 操作的脚本直接用 liuqid 标签引入 {% endcomment %}</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">{{ &#x27;app.css&#x27; | asset_url | stylesheet_tag }}</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&lt;link rel=&quot;stylesheet&quot; href=&quot;{{ &#x27;app.css&#x27; | asset_url }}&quot; type=&quot;text/css&quot;&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">{{ &#x27;app.js&#x27; | asset_url | script_tag }}</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-liquid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-liquid codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">  &lt;script src=&quot;{{ &#x27;app.js&#x27; | asset_url }}&quot; defer&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  &lt;script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    // 创建一个 link 元素</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    var link = document.createElement(&#x27;link&#x27;);</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    // 设置 rel 属性为 stylesheet</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    link.rel = &#x27;stylesheet&#x27;;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    // 设置 href 属性为 CSS 文件的 URL</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    link.href = &#x27;path/to/your/stylesheet.css&#x27;;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    // 设置 onload 事件处理函数，当样式表加载完成后执行</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    link.onload = function() {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      console.log(&#x27;Stylesheet loaded successfully.&#x27;);</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    // 使用 setTimeout 来延迟加载样式表，这里设置为 3000 毫秒（3 秒）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    setTimeout(function() {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      // 将 link 元素添加到页面的 head 部分</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      document.head.appendChild(link);</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    }, 3000); // 3 秒延迟加载</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  &lt;/script&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="轮播组件-swiper-引入">轮播组件 swiper 引入<a href="#轮播组件-swiper-引入" class="hash-link" aria-label="轮播组件 swiper 引入的直接链接" title="轮播组件 swiper 引入的直接链接">​</a></h2>
<ol>
<li>安装依赖</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> swiper</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>配置 webpack.mix.js</li>
</ol>
<div class="language-diff codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-diff codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">const mix = require(&#x27;laravel-mix&#x27;)</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">const tailwindcss = require(&#x27;tailwindcss&#x27;)</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">mix</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> .js(&#x27;src/js/app.js&#x27;, &#x27;assets&#x27;)</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> .sass(&#x27;src/scss/app.scss&#x27;, &#x27;assets&#x27;)</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  .copyIfNotExist(</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    &#x27;node_modules/swiper/swiper-bundle.min.css&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    &#x27;assets/css/swiper-bundle.min.css&#x27;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  )</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  .copyIfNotExist(</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    &#x27;node_modules/swiper/swiper-bundle.min.js&#x27;,</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">    &#x27;assets/js/swiper-bundle.min.js&#x27;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(181, 206, 168)">+</span><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)">  )</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token inserted-sign inserted line" style="color:rgb(181, 206, 168)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> .options({</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   processCssUrls: false, // 禁止对 css 中的 url 做处理</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   postCss: [tailwindcss(&#x27;tailwind.config.js&#x27;)], // 处理 css 文件的时候使用 postcss 插件，其中包含 tailwind css</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line"> })</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token unchanged line" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>shopify theme.liquid 主题文件中引入</li>
</ol>
<div class="language-liquid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-liquid codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">&lt;link rel=&quot;stylesheet&quot; href=&quot;{{ &#x27;assets/css/swiper-bundle.min.css&#x27; | asset_url }}&quot;&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&lt;script src=&quot;{{ &#x27;assets/js/swiper-bundle.min.js&#x27; | asset_url }}&quot;&gt;&lt;/script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="引入文件的优先级">引入文件的优先级<a href="#引入文件的优先级" class="hash-link" aria-label="引入文件的优先级的直接链接" title="引入文件的优先级的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="css-文件">CSS 文件<a href="#css-文件" class="hash-link" aria-label="CSS 文件的直接链接" title="CSS 文件的直接链接">​</a></h3>
<ul>
<li>重要的全局样式表</li>
<li>shopify 主题样式表</li>
<li>三方样式表</li>
</ul>
<div class="language-liquid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-liquid codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">{{ &#x27;assets/css/reset.css&#x27; | asset_url | stylesheet_tag }}</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">{{ &#x27;assets/css/theme.css&#x27; | asset_url | stylesheet_tag }}</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">{{ &#x27;assets/css/third-party.css&#x27; | asset_url | stylesheet_tag }}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="js-文件">JS 文件<a href="#js-文件" class="hash-link" aria-label="JS 文件的直接链接" title="JS 文件的直接链接">​</a></h3>
<ul>
<li>引入 Alpine/jQuery 或者其他类库</li>
<li>shopify 主题的 JS</li>
<li>三方 JS</li>
</ul>
<div class="language-liquid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-liquid codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">{{ &#x27;assets/js/jquery.min.js&#x27; | asset_url | script_tag }}</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">{{ &#x27;assets/js/theme.js&#x27; | asset_url | script_tag }}</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">{{ &#x27;assets/js/third-party.js&#x27; | asset_url | script_tag }}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="优化-tailwind-css-的构建">优化 Tailwind CSS 的构建<a href="#优化-tailwind-css-的构建" class="hash-link" aria-label="优化 Tailwind CSS 的构建的直接链接" title="优化 Tailwind CSS 的构建的直接链接">​</a></h2>
<p>使用 laravel-mix-tailwind 插件，它可以优化 Tailwind CSS 的构建过程</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> laravel-mix-tailwind --save-dev</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/shopify，themekit">shopify，themekit</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/shopify-theme-dev">shopify 主题开发</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-11T00:00:00.000Z">2024年4月11日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="初始化项目">初始化项目<a href="#初始化项目" class="hash-link" aria-label="初始化项目的直接链接" title="初始化项目的直接链接">​</a></h2>
<ol>
<li>安装脚手架 @shopify/cli</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-g</span><span class="token plain"> @shopify/cli</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>初始化项目，以 dawn 初始开始开发</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>如果这个步骤失败的话，则直接登录 shopify 账户，初始化店铺的主题之后，手动下载主题代码</p><p>点击下载按钮之后，你会在邮箱收到一个主题文件，下载即可使用</p></div></div>
<p><img decoding="async" loading="lazy" alt="image-20240421223100207" src="/assets/images/image-20240421223100207-cd1641b89df3d979ca6c20405f46bdeb.png" width="1465" height="841" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="image-20240421223224667" src="/assets/images/image-20240421223224667-438d0978b9301cff865a721812fca0d3.png" width="1279" height="589" class="img_ev3q"></p>
<ol start="3">
<li>本地开发预览</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme dev </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--store</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">your-store-name</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>以未发布状态上传主题</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme push </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--unpublished</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="5">
<li>直接更新主题代码</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme push</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="6">
<li>发布主题</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">shopify theme publish</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="git-仓库关联">git 仓库关联<a href="#git-仓库关联" class="hash-link" aria-label="git 仓库关联的直接链接" title="git 仓库关联的直接链接">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 初始化仓库</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> init</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 在github 手动创建仓库之后，复制仓库地址</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 关联仓库</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> remote </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> origin </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain">your-repo-address</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 提交所有更新</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">add</span><span class="token plain"> </span><span class="token builtin class-name" style="color:rgb(78, 201, 176)">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> commit </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">-m</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;init: init my shopify theme&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 推送到远端</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">git</span><span class="token plain"> push --allow-unrelated-hostoric origin master</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/shopify">shopify</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/theme">theme</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/shopify-start">启动已有的 shopify 项目</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-04-10T00:00:00.000Z">2024年4月10日</time> · <!-- -->阅读需 2 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="环境准备">环境准备<a href="#环境准备" class="hash-link" aria-label="环境准备的直接链接" title="环境准备的直接链接">​</a></h2>
<ol>
<li>
<p>node</p>
</li>
<li>
<p>npm/yarn</p>
</li>
<li>
<p>ruby with devkit</p>
</li>
<li>
<p>至少一次登录到 <code>https://xxxxx.myshopify.com/admin</code> 后台(<strong>注意不要切换别的账户,否则可能因为缓存问题，会在启动项目的
时候一直报  错: no authorized</strong>)</p>
</li>
<li>
<p>从 github 仓库将项目代码拷贝下来，查看 package.json 文件，关注 scripts 这个属性值，就是定义的项目运行脚本</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token property" style="color:#9CDCFE">&quot;scripts&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token property" style="color:#9CDCFE">&quot;aaaa&quot;</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;shopify theme dev --store bbbb.myshopify.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>bbbb.myshopify.com 可替换成你的店铺域名</p>
</blockquote>
</li>
<li>
<p>安装依赖</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">或者</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>执行启动脚本</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token function" style="color:rgb(220, 220, 170)">yarn</span><span class="token plain"> aaaa</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">或者</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token function" style="color:rgb(220, 220, 170)">npm</span><span class="token plain"> run aaaa</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>启动完毕之后看到一个 &quot;logged in&quot; 提示，这时候随便按下任意的键，即可看到本地预览的 URL 地址</p>
</li>
<li>
<p>至此已经完成了一个已有 shopify 项目的启动了</p>
</li>
</ol></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/shopify">shopify</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--next" href="/page/2"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">关于我</a></li></ul></div><div class="col footer__col"><div class="footer__title">Frontend</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.csdn.net/VOID_Pointer_G" target="_blank" rel="noopener noreferrer" class="footer__link-item">CSDN<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/3263006244083678" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">yana的自建博客</a></li><li class="footer__item"><a href="https://github.com/yanadev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>