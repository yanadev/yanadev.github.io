<!doctype html>
<html lang="zh-Hans" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-algorithm" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">8 篇博文 含有标签「leetcode」 | Yana</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yanadev.github.io/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://yanadev.github.io/img/logo.svg"><meta data-rh="true" property="og:url" content="https://yanadev.github.io/algorithm/tags/leetcode"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" property="og:title" content="8 篇博文 含有标签「leetcode」 | Yana"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://yanadev.github.io/algorithm/tags/leetcode"><link data-rh="true" rel="alternate" href="https://yanadev.github.io/algorithm/tags/leetcode" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://yanadev.github.io/algorithm/tags/leetcode" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Yana Atom Feed">



<link rel="alternate" type="application/rss+xml" href="/frontend/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/frontend/atom.xml" title="Yana Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/vue/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/vue/atom.xml" title="Yana Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/react/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/react/atom.xml" title="Yana Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/chore/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/chore/atom.xml" title="Yana Atom Feed">

<link rel="alternate" type="application/rss+xml" href="/algorithm/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/algorithm/atom.xml" title="Yana Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/shopify/rss.xml" title="Yana RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/shopify/atom.xml" title="Yana Atom Feed"><link rel="stylesheet" href="/assets/css/styles.24b43391.css">
<script src="/assets/js/runtime~main.4d8b3d32.js" defer="defer"></script>
<script src="/assets/js/main.a2432c6f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Yana Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="Yana Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Yana</b></a><a class="navbar__item navbar__link" href="/docs/intro">ME/Skills</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">最近博客</a><a class="navbar__item navbar__link" href="/shopify">Shopify</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/frontend">前端</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/vue">Vue</a></li><li><a class="dropdown__link" href="/react/react">React</a></li><li><a class="dropdown__link" href="/frontend">TS/JS</a></li></ul></div><a class="navbar__item navbar__link" href="/chore/webpack">构建</a></div><div class="navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/algorithm">算法</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Community</a><ul class="dropdown__menu"><li><a href="https://blog.csdn.net/VOID_Pointer_G" target="_blank" rel="noopener noreferrer" class="dropdown__link">CSDN<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://juejin.cn/user/3263006244083678" target="_blank" rel="noopener noreferrer" class="dropdown__link">掘金<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/yanadev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">算法</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/dynamic-programming">动态规划</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/max-sliding-window-239">力扣239-滑动窗口中的最大值</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/longest-subarray-1438">力扣1438-绝对差不超过限制的最长连续子数组</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/longest-ones-1004">力扣1004-最大连续1的个数 Ⅲ</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/intro">intro</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/binary-search-35">力扣35-搜索插入位置[二分法]</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/binary-search-34">力扣34-在排序数组 中查找元素的第一个和最后一个位置[二分法]</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/binary-search">力扣704-二分查找</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/algorithm/minimun-size-subarray-sum">力扣209 - 长度最小子数组[滑动窗口]</a></li></ul></div></nav></aside><main class="col col--7"><header class="margin-bottom--xl"><h1>8 篇博文 含有标签「leetcode」</h1><a href="/algorithm/tags">查看所有标签</a></header><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/algorithm/dynamic-programming">动态规划</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-05-20T00:00:00.000Z">2025年5月20日</time> · <!-- -->阅读需 14 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题">原题<a href="#原题" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">70. 爬楼梯</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">假设你正在爬楼梯。需要 n 阶你才能到达楼顶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">每次你可以爬 1 或 2 个台阶。你有多少种不同的方法可以爬到楼顶呢？</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：n = 2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：有两种方法可以爬到楼顶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1. 1 阶 + 1 阶</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">2. 2 阶</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：n = 3</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：3</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：有三种方法可以爬到楼顶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1. 1 阶 + 1 阶 + 1 阶</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">2. 1 阶 + 2 阶</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">3. 2 阶 + 1 阶</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 &lt;= n &lt;= 45</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="伪代码">伪代码<a href="#伪代码" class="hash-link" aria-label="伪代码的直接链接" title="伪代码的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">函数 爬楼梯(台阶数 n)：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    如果 n 是 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        返回 1</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    如果 n 是 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        返回 2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    否则：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        返回 爬楼梯(n-1) + 爬楼梯(n-2)</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">dp[1] = 1</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">dp[2] = 2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">从 3 开始：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">dp[3] = dp[2] + dp[1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">dp[4] = dp[3] + dp[2]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">……</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">dp[n] = dp[n-1] + dp[n-2]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="编码">编码<a href="#编码" class="hash-link" aria-label="编码的直接链接" title="编码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * 推荐写法，优化空间</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">n</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">climbStairs</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 动态规划自底向上计算，从最小层级开始计算</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> arr </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(78, 201, 176)">Array</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> b </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    res </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    a </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    b </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> res</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> res</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">n</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">climbStairs</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> dp </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>198 打家劫舍</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题-1">原题<a href="#原题-1" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">198. 打家劫舍</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">你是一个专业的小偷，计划偷窃沿街的房屋。每间房内都藏有一定的现金，影响你偷窃的唯一制约因素就是相邻的房屋装有相互连通的防盗系统，如果两间相邻的房屋在同一晚上被小偷闯入，系统会自动报警。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">给定一个代表每个房屋存放金额的非负整数数组，计算你 不触动警报装置的情况下 ，一夜之内能够偷窃到的最高金额。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：[1,2,3,1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：4</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：偷窃 1 号房屋 (金额 = 1) ，然后偷窃 3 号房屋 (金额 = 3)。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">     偷窃到的最高金额 = 1 + 3 = 4 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：[2,7,9,3,1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：12</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：偷窃 1 号房屋 (金额 = 2), 偷窃 3 号房屋 (金额 = 9)，接着偷窃 5 号房屋 (金额 = 1)。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">     偷窃到的最高金额 = 2 + 9 + 1 = 12 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 &lt;= nums.length &lt;= 100</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">0 &lt;= nums[i] &lt;= 400</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="误区">误区<a href="#误区" class="hash-link" aria-label="误区的直接链接" title="误区的直接链接">​</a></h2>
<p>并不是间隔偷就是最优解</p>
<p>而 是求每个位置之前偷窃的最优解</p>
<p>拆解就是</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 2 3 1</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">0 --- nums[0]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 --- max(0) / nums[1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">2 --- max(1) / max(0) + nums[2]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">3 --- max(2) / max(1) + nums[3]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">...</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">n --- max(n-1) / max(n-2) + nums[n]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="伪代码-1">伪代码<a href="#伪代码-1" class="hash-link" aria-label="伪代码的直接链接" title="伪代码的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">函数 rob(nums):</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    如果 nums 是空，返回 0</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    如果 只有 1 个房子，返回 nums[0]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    创建数组 dp，长度为 nums.length</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp[0] = nums[0]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp[1] = max(nums[0], nums[1])</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    对 i 从 2 到 nums.length - 1:</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        dp[i] = max(dp[i - 1], dp[i - 2] + nums[i])</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    返回 dp[最后一个位置]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="编码-1">编码<a href="#编码-1" class="hash-link" aria-label="编码的直接链接" title="编码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">rob</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 动态规划的题目都要手动推导一遍，找出规律</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> max </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>746.使用最小花费爬楼梯</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题-2">原题<a href="#原题-2" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">746. 使用最小花费爬楼梯</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">给你一个整数数组 cost ，其中 cost[i] 是从楼梯第 i 个台阶向上爬需要支付的费用。一旦你支付此费用，即可选择向上爬一个或者两个台阶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">你可以选择从下标为 0 或下标为 1 的台阶开始爬楼梯。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">请你计算并返回达到楼梯顶部的最低花费。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：cost = [10,15,20]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：15</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：你将从下标为 1 的台阶开始。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 支付 15 ，向上爬两个台阶，到达楼梯顶部。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">总花费为 15 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：cost = [1,100,1,1,1,100,1,1,100,1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：6</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：你将从下标为 0 的台阶开始。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 支付 1 ，向上爬两个台阶，到达下标为 2 的台阶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 支付 1 ，向上爬两个台阶，到达下标为 4 的台阶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 支付 1 ，向上爬两个台阶，到达下标为 6 的台阶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 支付 1 ，向上爬一个台阶，到达下标为 7 的台阶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 支付 1 ，向上爬两个台阶，到达下标为 9 的台阶。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 支付 1 ，向上爬一个台阶，到达楼梯顶部。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">总花费为 6 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">2 &lt;= cost.length &lt;= 1000</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">0 &lt;= cost[i] &lt;= 999</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="推导">推导<a href="#推导" class="hash-link" aria-label="推导的直接链接" title="推导的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 100 1 1 1 100 1 1 100 1</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">可以爬1/2个台阶，所以如果从最底部向上爬，需要付费为 0</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">总阶梯数量 花费</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> n = 0,  sum = 0</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> n = 1， sum = 0</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> n = 2， sum = 0</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> n = 3， sum = nums[0] / nums[1]  --- min</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> n = 4， sum = min(3) / min(2)</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> n = 5,  sum = min(4) / min(3)</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> ...</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> n       sum = min(n-1) / min(n - 2)</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="伪代码-2">伪代码<a href="#伪代码-2" class="hash-link" aria-label="伪代码的直接链接" title="伪代码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">minCostClimbingStairs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    n </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> length </span><span class="token keyword" style="color:#C586C0">of</span><span class="token plain"> cost</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 到达第0阶（起点）不花钱</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 到达第1阶（也可作为起点）不花钱</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> i </span><span class="token keyword module" style="color:#C586C0">from</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"> to n</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token comment" style="color:rgb(106, 153, 85)">// 你可以从 i-1 跨一步，或者从 i-2 跨两步</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">            dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">            dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="我的解法">我的解法<a href="#我的解法" class="hash-link" aria-label="我的解法的直接链接" title="我的解法的直接链接">​</a></h2>
<table><thead><tr><th>点</th><th>你写法</th><th>正确写法</th></tr></thead><tbody><tr><td>状态定义</td><td>正确 ✅</td><td>正确 ✅</td></tr><tr><td>状态转移</td><td>正确 ✅</td><td>正确 ✅</td></tr><tr><td>初始化 <code>dp</code></td><td>多余 ❌</td><td>精简 ✅</td></tr><tr><td>额外 <code>min[2]</code></td><td>不必要 ❌</td><td>不需要，循环中计算 ✅</td></tr></tbody></table>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">cost</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">minCostClimbingStairs</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 求最小花费 + 每次可以跨1或者2个台阶</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// ==&gt; 求到最后一个台阶的花费</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// ==&gt; 倒数第二个台阶+到倒数第二个台阶的花费  ~ 倒数第一个台阶+到倒数第一个台阶的花费</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// ==&gt; 求两个花费得最小值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> min </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// console.log({ min, target: min[cost.length] })</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">cost</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">minCostClimbingStairs</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> min </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 0 1 位置的最小花费都是 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">cost</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">minCostClimbingStairs</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> prev </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// dp[i-2]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> curr </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// dp[i-1]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> next </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">min</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">prev </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> curr </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> cost</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    prev </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> curr</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    curr </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> next</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> curr</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>1137. 第 N 个斐波那契数</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题-3">原题<a href="#原题-3" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1137. 第 N 个泰波那契数</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">泰波那契序列 Tn 定义如下：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">T0 = 0, T1 = 1, T2 = 1, 且在 n &gt;= 0 的条件下 Tn+3 = Tn + Tn+1 + Tn+2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">给你整数 n，请返回第 n 个泰波那契数 Tn 的值。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：n = 4</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：4</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">T_3 = 0 + 1 + 1 = 2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">T_4 = 1 + 1 + 2 = 4</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：n = 25</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：1389537</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">0 &lt;= n &lt;= 37</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">答案保证是一个 32 位整数，即 answer &lt;= 2^31 - 1。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="伪代码-3">伪代码<a href="#伪代码-3" class="hash-link" aria-label="伪代码的直接链接" title="伪代码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">函数 </span><span class="token function maybe-class-name" style="color:#4EC9B0">Tribonacci</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    如果 n 等于 </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain">，返回 </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    如果 n 小于 </span><span class="token number" style="color:#B5CEA8">3</span><span class="token plain">，返回 </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    初始化数组 prev 为 </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    从 i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token plain"> 到 n，进行以下操作：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    返回 prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="编码-2">编码<a href="#编码-2" class="hash-link" aria-label="编码的直接链接" title="编码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">n</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">tribonacci</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> prev </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> prev</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h1>213. 打家劫舍 Ⅱ</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题-4">原题<a href="#原题-4" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><code class="codeBlockLines_e6Vv"></code></pre>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="伪代码-4">伪代码<a href="#伪代码-4" class="hash-link" aria-label="伪代码的直接链接" title="伪代码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">函数 </span><span class="token function" style="color:rgb(220, 220, 170)">rob</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    如果只有 </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> 个房子：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        返回它的钱</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    情况一：偷第 </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"> 到 n</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"> 号房子（不偷最后一间）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    情况二：偷第 </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> 到 n</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> 号房子（不偷第一间）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    分别计算这两种情况的最大偷盗金额：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        max1 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> 偷</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> n</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> 之间的最大金额</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        max2 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> 偷</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> n</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> 之间的最大金额</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    返回 </span><span class="token function" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">max1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> max2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">函数 偷</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> 表示偷到第 i 间房子为止，最多偷到多少钱</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    从 i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> start </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"> 到 end：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    返回 dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="注意点">注意点<a href="#注意点" class="hash-link" aria-label="注意点的直接链接" title="注意点的直接链接">​</a></h2>
<ul>
<li>如果 dp[i] 表示的是偷到第 i 个房子，就直接用 nums[i]；</li>
<li>如果 dp[i] 表示的是偷到第 i - 1 个房子，就用 nums[i - 1]。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="编码-3">编码<a href="#编码-3" class="hash-link" aria-label="编码的直接链接" title="编码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * 小偷专用函数：打家劫舍 II（房子围成一圈）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> - 每间房子的现金列表</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> - 最多能偷到多少钱</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">rob</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">   * 小偷的助手函数：负责在一条直线上的房子里偷东西</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">   * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> - 所有房子里的现金</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">   * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">start</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> - 从第几个房子开始</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">   * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">end</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> - 偷到第几个房子结束</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">   * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> - 从 start 到 end 之间最多能偷多少钱</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">   */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">rob_item</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> start</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 如果房子是空的，啥都偷不到</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 如果只有一个房子，那就直接偷它！</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 如果 start 和 end 是同一个房子，就只能偷这一家</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">start </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 创建一个记账本 dp，用来记每一步最多能偷多少钱</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> dp </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 第一个能偷的房子是 start，把它偷了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 第二个房子是 start+1，这时我们要选：偷 start 还是 start+1，谁钱多偷谁</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">start </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 从第三个房子开始（也就是 start + 2），我们一个一个往后看</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> start </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> i</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 有两个选择：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 1. 不偷这一家，那就保持前一个的偷法（dp[i - 1]）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 2. 偷这一家，那前一家不能偷，所以是 dp[i - 2] + nums[i]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 然后比较这两个选项，选钱多的那个</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 最后返回偷到第 end 家时最多能偷多少钱</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> dp</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">end</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> len </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 特别情况：如果只有一间房子，那直接偷它就好</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 情况一：不偷最后一家 → 偷第 0 到 len-1 家</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> max1 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">rob_item</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> len </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 情况二：不偷第一家 → 偷第 1 到 len 家</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> max2 </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">rob_item</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> len</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 比较两个方案哪个偷的钱更多，返回最多的那个</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">max1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> max2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> res</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/algorithm">algorithm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/leetcode">leetcode</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/dynamic-programming">dynamic programming</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/dp">DP</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/algorithm/max-sliding-window-239">力扣239-滑动窗口中的最大值</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-05-14T00:00:00.000Z">2025年5月14日</time> · <!-- -->阅读需 6 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题">原题<a href="#原题" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">给你一个整数数组 nums，有一个大小为 k 的滑动窗口从数组的最左侧移动到数组的最右侧。你只可以看到在滑动窗口内的 k 个数字。滑动窗口每次只向右移动一位。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">返回 滑动窗口中的最大值 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：nums = [1,3,-1,-3,5,3,6,7], k = 3</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：[3,3,5,5,6,7]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">滑动窗口的位置                最大值</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">---------------               -----</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[1  3  -1] -3  5  3  6  7       3</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> 1 [3  -1  -3] 5  3  6  7       3</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> 1  3 [-1  -3  5] 3  6  7       5</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> 1  3  -1 [-3  5  3] 6  7       5</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> 1  3  -1  -3 [5  3  6] 7       6</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"> 1  3  -1  -3  5 [3  6  7]      7</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：nums = [1], k = 1</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：[1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 &lt;= nums.length &lt;= 105</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">-104 &lt;= nums[i] &lt;= 104</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 &lt;= k &lt;= nums.length</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h2>
<p>理解题目逻辑：窗口长度为 k，获取该窗口下最大的值，窗口收缩会出现多个可能的子集，在子集中找到最大的值</p>
<ol>
<li>遍历数组 nums，循环执行条件是 r &lt; nums.length</li>
<li>每次移动右侧指针时，将 nums[r] 与存储最值得队列尾巴对比，如果队列的尾部元素小于 nums[r]，一直将队列尾部出队直到尾部元素大于 nums[r]</li>
<li>一旦 r - l + 1 &gt; k即窗口长度超过k，需要收缩 l（l++），收缩之前判断 num[l] 是否和队列头部元素相等，如果相等，出队队列头部元素</li>
</ol>
<p>PS: 出队头部元素不关注 nums[l] 在队列中部或者尾部的情况，因为有新的 nums[r] 大于队列除了队头以外的任意一个值，队列内的元素都有可能被出队
或者简单记忆（只关注最大值）</p>
<ol start="4">
<li>移动右指针之前将队头的值存储待定结果集</li>
<li>返回结果集中的最大值</li>
</ol>
<p>错误点：</p>
<ol>
<li>将不符合的窗口区间也记录下来了（一定确保 [l,r] 窗口要合格结果才有效）</li>
<li>区间合格条件需要注意 k 是长度，r 是序列（从0开始），所以区间合格条件是 r &gt;= k - 1</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">k</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">maxSlidingWindow</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> k</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 窗口长度为 k，一旦窗口长度超过 k，就需要收缩左区间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 每次移动右区间，判断区间是否合法，如果合法，更新最大值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    理解题目逻辑：窗口长度为 k，获取该窗口下最大的值，窗口收缩会出现多个可能的子集，在子集中找到最大的值</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    1. 遍历数组 nums，循环执行条件是 r &lt; nums.length</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    2. 每次移动右侧指针时，将 nums[r] 与存储最值得队列尾巴对比，如果队列的尾部元素小于 nums[r]，一直将队列尾部出队直到尾部元素大于 nums[r]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    3. 一旦 r - l + 1 &gt; k即窗口长度超过k，需要收缩 l（l++），收缩之前判断 num[l] 是否和队列头部元素相等，如果相等，出队队列头部元素</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="display:inline-block;color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    PS: 出队头部元素不关注 nums[l] 在队列中部或者尾部的情况，因为有新的 nums[r] 大于队列除了队头以外的任意一个值，队列内的元素都有可能被出队</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    或者简单记忆（只关注最大值）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    4. 移动右指针之前将队头的值存储待定结果集</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    5. 返回结果集中的最大值</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="display:inline-block;color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    错误点：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    1. 将不符合的窗口区间也记录下来了（一定确保 [l,r] 窗口要合格结果才有效）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    2. 区间合格条件需要注意 k 是长度，r 是序列（从0开始），所以区间合格条件是 r &gt;= k - 1</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="display:inline-block;color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">     */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> deque </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">r </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">deque</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> deque</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">deque</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      deque</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">pop</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    deque</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">push</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">r </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> k</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 收缩之前判断即将被排除的左端元素是否在单调递减队列头部，若存在，移除该元素</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">l</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> deque</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        deque</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">shift</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 收缩左侧指针</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      l</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">r </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;=</span><span class="token plain"> k </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 区间合格的时候，队列最大值才有意义</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">push</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">deque</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    r</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> res</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/algorithm">algorithm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/leetcode">leetcode</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/max-sliding-window">maxSlidingWindow</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/algorithm/longest-subarray-1438">力扣1438-绝对差不超过限制的最长  连续子数组</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-05-13T00:00:00.000Z">2025年5月13日</time> · <!-- -->阅读需 7 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题">原题<a href="#原题" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">给你一个整数数组 nums ，和一个表示限制的整数 limit，请你返回最长连续子数组的长度，该子数组中的任意两个元素之间的绝对差必须小于或者等于 limit 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">如果不存在满足条件的子数 组，则返回 0 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：nums = [8,2,4,7], limit = 4</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：所有子数组如下：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[8] 最大绝对差 |8-8| = 0 &lt;= 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[8,2] 最大绝对差 |8-2| = 6 &gt; 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[8,2,4] 最大绝对差 |8-2| = 6 &gt; 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[8,2,4,7] 最大绝对差 |8-2| = 6 &gt; 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[2] 最大绝对差 |2-2| = 0 &lt;= 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[2,4] 最大绝对差 |2-4| = 2 &lt;= 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[2,4,7] 最大绝对差 |2-7| = 5 &gt; 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[4] 最大绝对差 |4-4| = 0 &lt;= 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[4,7] 最大绝对差 |4-7| = 3 &lt;= 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">[7] 最大绝对差 |7-7| = 0 &lt;= 4.</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">因此，满足题意的最长子数组的长度为 2 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：nums = [10,1,2,4,7,2], limit = 5</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：4</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：满足题意的最长子数组是 [2,4,7,2]，其最大绝对差 |2-7| = 5 &lt;= 5 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 3：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：nums = [4,2,2,2,4,4,2,2], limit = 0</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：3</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 &lt;= nums.length &lt;= 10^5</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 &lt;= nums[i] &lt;= 10^9</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">0 &lt;= limit &lt;= 10^9</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="分析">分析<a href="#分析" class="hash-link" aria-label="分析的直接链接" title="分析的直接链接">​</a></h2>
<ol>
<li>求连续子数组，考虑滑动窗口</li>
<li>求差值考虑连续区间内的最大、最小值[每次更新极值会把不符合的数据都清除出去]</li>
<li>窗口不符合时,检查极端值是否包含区间值，如果是，移除这个极端值队头</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">整理题目： 数组 nums，连续元素间的绝对值 &lt;= limit，要求返回符合的窗口长度（max）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 👉 绝对值考虑区间的最大最小值</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 👉 两个队列来分别记录区间拥有的最大、最小值</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 👉 没有长度限制，因此更新绝对值没有限定条件，每次移动右指针都需要更新</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 关注：何时收缩左指针</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 👉 一旦绝对值 &gt; limit 就需要收缩左指针</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">- 收缩左指针注意事项：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">判断左指针对应元素是否在两个队列的队头，如果在，将队列头部出队（单调队列只关注队头，nums[l] 出 现在队中或者队尾，一旦有</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">新的更符合条件的元素入队，随时会被出队，因此不关注）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1. 遍历整个 nums，循环结束条件是 r &lt; nums.length</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">2. 判断极值队列中不为空，将队列尾部大于/小于 nums[r] 的元素移除出队</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">3. 分别将 nums[r] 压入队列</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">4. while 循环设置收缩左指针的逻辑 Math.abs(max-min) &gt; k 时，收缩左指针 l+【收缩之前查看即将被排除的 nums[l] 是否在极值队</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">   列的队头影响结果，如果在，将队列队头元素出队】</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="伪代码">伪代码<a href="#伪代码" class="hash-link" aria-label="伪代码的直接链接" title="伪代码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">nums </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">8</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">7</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">limit </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>right</th><th>nums[right]</th><th>maxDeque</th><th>minDeque</th><th>max-min</th><th>left</th><th>res</th><th>当前窗口</th></tr></thead><tbody><tr><td>0</td><td>8</td><td>[8]</td><td>[8]</td><td>0</td><td>0</td><td>1</td><td>[8]</td></tr><tr><td>1</td><td>2</td><td>[8,2]</td><td>[2]</td><td>6</td><td>1</td><td>1</td><td>[2]</td></tr><tr><td>2</td><td>4</td><td>[4]</td><td>[2,4]</td><td>2</td><td>1</td><td>2</td><td>[2,4]</td></tr><tr><td>3</td><td>7</td><td>[7]</td><td>[2,4,7] → [2,4]</td><td>5</td><td>2</td><td>2</td><td>[4,7]</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">limit</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">longestSubarray</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> limit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    整理题目：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    数组 nums，连续元素间的绝对值 &lt;= limit，要求返回符合的窗口长度（max）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    👉 绝对值考虑区间的最大最小值</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    👉 两个队列来分别记录区间拥有的最大、最小值</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    👉 没有长度限制，因此更新绝对值没有限定条件，每次移动右指针都需要更新</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    关注：何时收缩左指针 👉 一旦绝对值 &gt; limit 就需要收缩左指针</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    收缩左指针注意事项：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    判断左指针对应元素是否在两个队列的队头，如果在，将队列头部出队（单调队列只关注队头，nums[l] 出现在队中或者队尾，一旦有新的更符合条件的元素入队，随时会被出队，因此不关注）</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="display:inline-block;color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    1. 遍历整个 nums，循环结束条件是 r &lt; nums.length</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    2. 判断极值队列中不为空，将队列尾部大于/小于 nums[r] 的元素移除出队</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    2. 分别将 nums[r] 压入队列</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    3. while 循环设置收缩左指针的逻辑 Math.abs(max-min) &gt; k 时，收缩左指针 l+【收缩之前查看即将被排除的 nums[l] 是否在极值队列的队头影响结果，如果在，将队列队头元素出队】 </span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">    */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> queueMax </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> queueMin </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">r </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">pop</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">push</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">pop</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">push</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// l 收缩逻辑</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&amp;&amp;</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">abs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> limit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 收缩之前检查(检查一次就行，不需要用 while)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">l</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        queueMax</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">shift</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">l</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        queueMin</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">shift</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 收缩区间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      l</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    res </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">r </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    r</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> res </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> res</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="推荐关联easy---hard">推荐关联（easy -&gt; hard）<a href="#推荐关联easy---hard" class="hash-link" aria-label="推荐关联（easy -&gt; hard）的直接链接" title="推荐关联（easy -&gt; hard）的直接链接">​</a></h2>
<ul>
<li>1004 基础滑动窗口</li>
<li>239 单调队列</li>
<li>1438 滑动窗口 + 单调队列</li>
<li>1696/862 单调队列优化 DP</li>
<li>480 中位数窗口复杂的数据结构维护</li>
</ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/algorithm">algorithm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/leetcode">leetcode</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/longest-subarray">longestSubarray</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/algorithm/longest-ones-1004">力扣1004-最大连续1的个数 Ⅲ</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2025-05-12T00:00:00.000Z">2025年5月12日</time> · <!-- -->阅读需 5 分 钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题">原题<a href="#原题" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">给定一个二进制数组 nums 和一个整数 k，假设最多可以翻转 k 个 0 ，则返回执行操作后 数组中连续 1 的最大个数 。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：nums = [1,1,1,0,0,0,1,1,1,1,0], K = 2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：6</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：[1,1,1,0,0,1,1,1,1,1,1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">粗体数字从 0 翻转到 1，最长的子数组长度为 6。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：nums = [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K = 3</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：10</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：[0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">粗体数字从 0 翻转到 1，最长的子数组长度为 10。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">1 &lt;= nums.length &lt;= 105</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">nums[i] 不是 0 就是 1</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">0 &lt;= k &lt;= nums.length</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="分析">分析<a href="#分析" class="hash-link" aria-label="分析的直接链接" title="分析的直接链接">​</a></h2>
<ol>
<li>问题转换</li>
</ol>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">可以翻转 k 个 0 后数组中最长的连续 1 的长度</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">👇</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">只能包含 k 个 0 的连续 1 的数组</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">👇</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">滑动窗口记录包含 k 个 0 的结果集，返回最长的结果集的长度</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h2>
<ol>
<li>连续 + 最长 ==&gt; 考虑滑动窗口</li>
<li>翻转 k 个 0 为 1 得到连续 1 的最长长度 ==&gt; &quot;包含 k 个 0 的最长 1 组成的最长长度&quot;<!-- -->
<ul>
<li>一次遍历，遇到 1 右端扩张 r++</li>
<li>遇到 0 记录 0 的个数</li>
<li>一旦 0 的个数超过 k（count &gt; k），收缩左边（收缩之前左端元素为 0，更新窗口中 0 的个数 - 1 ）</li>
<li>每次移动右指针之后都记录当前窗口的长度（结果的子集）</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="伪代码">伪代码<a href="#伪代码" class="hash-link" aria-label="伪代码的直接链接" title="伪代码的直接链接">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="for-循环">for 循环<a href="#for-循环" class="hash-link" aria-label="for 循环的直接链接" title="for 循环的直接链接">​</a></h3>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">k</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">longestOnes</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> k</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 翻转 k 个 0 得到最长连续 1 的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 把最长连续1看作窗口，内部只能包含 &lt;= k 个，否则窗口不合法（&gt;k)，就需要收缩左区间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 直到内部0的个数 &lt; k之前，都一直收缩左区间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 每次移动右指针都记录当前连续 1 的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> count </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> len </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><span class="token plain"> r</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 右指针遍历的时候遇到 0 就更新当前窗口中 0 的个数</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      count</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">count </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> k</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 窗口中 0 的个数超过题目限制的 k ，收缩左区间确保窗口是合法的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">l</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> count</span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 右移左指针</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      l</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 每次移动右指针的时候，记录当前窗口的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    len </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">r </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> len</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> len</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="while-循环">while 循环<a href="#while-循环" class="hash-link" aria-label="while 循环的直接链接" title="while 循环的直接链接">​</a></h3>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">k</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">longestOnes</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> k</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 翻转 k 个 0 得到最长连续 1 的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 把最长连续1看作窗口，内部只能包含 &lt;= k 个，否则窗口不合法（&gt;k)，就需要收缩左区间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 直到内部0的个数 &lt; k之前，都一直收缩左区间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 每次移动右指针都记录当前连续 1 的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> count </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> len </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">r </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 遇到 0 更新 count</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> count</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 一旦 count &gt; k 收缩左指针</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">count </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> k</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 收缩之前判断，即将被排除的元素是否为0，是则更新 count</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">l</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> count</span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      l</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 移动右指针之前记录当前区间的长度</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    len </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">max</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">len</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// 扩张右区间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    r</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(78, 201, 176)">console</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">log</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"> len </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> len</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/algorithm">algorithm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/leetcode">leetcode</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/longest-ones">longestOnes</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/algorithm/binary-search-35">力扣35-搜索插入位置[二分法]</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-10-09T00:00:00.000Z">2024年10月9日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题">原题<a href="#原题" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">请必须使用时间复杂度为 O(log n) 的算法。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1:</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输入: nums = [1,3,5,6], target = 5</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输出: 2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2:</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输入: nums = [1,3,5,6], target = 2</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输出: 1</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 3:</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输入: nums = [1,3,5,6], target = 7</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输出: 4</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><ul>
<li><code>1 &lt;= nums.length &lt;= 10⁴</code></li>
<li><code>-10⁴ &lt;= nums[i] &lt;= 10⁴</code></li>
<li>nums 为 无重复元素 的 升序 排列数组</li>
<li><code>-10⁴ &lt;= target &lt;= 10⁴</code></li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h2>
<p><strong>已知</strong></p>
<ul>
<li>有序数组</li>
<li>目标值 target</li>
</ul>
<p><strong>求</strong></p>
<ul>
<li>若有 target，返回索引</li>
<li>若无 target 返回顺序插入位置（right 位置）</li>
</ul>
<p><strong>空状态处理</strong></p>
<ul>
<li>空数组，返回 0</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解题过程">解题过程<a href="#解题过程" class="hash-link" aria-label="解题过程的直接链接" title="解题过程的直接链接">​</a></h2>
<ol>
<li>初始化左右指针：left = 0, right = len(nums) - 1<!-- -->
<ul>
<li>（假设区间为 <code>[l, r]</code> 左右均闭合区间，结束外层循环时: l &gt; r，当 target 比 l 小的时候，l 指向数组头；当 target &lt; r
时，l 指向数组尾）</li>
<li>（假设区间为 <code>[l, r)</code> 左闭右开区间，结束外层循环时: l == r，直接返回 r 或者 l 都行 ）</li>
</ul>
</li>
<li>空数组，返回 0</li>
<li>二分查找 target<!-- -->
<ul>
<li>找到匹配的 target，返回 target 索引</li>
<li>找不到匹配的 target，返回 right 指针位置</li>
</ul>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="复杂度">复杂度<a href="#复杂度" class="hash-link" aria-label="复杂度的直接链接" title="复杂度的直接链接">​</a></h2>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lr">[l,r]<a href="#lr" class="hash-link" aria-label="[l,r]的直接链接" title="[l,r]的直接链接">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">target</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">searchInsert</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> target</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// [l, r]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// l &lt;= r 条件，循环结束的时候 r &gt; l,此时 r 为左边界，适合处理插入尾部的操作和空数组的情况</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// l &lt; r 条件，循环结束的时候 r == l,此时直接返回即可</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">l </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    mid </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">l </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">target </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> mid</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">target </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="lr-1"><code>[l,r)</code><a href="#lr-1" class="hash-link" aria-label="lr-1的直接链接" title="lr-1的直接链接">​</a></h3>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">target</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">searchInsert</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> target</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// [l, r]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> n</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// l &lt;= r 条件，循环结束的时候 r &gt; l,此时 r 为左边界，适合处理插入尾部的操作和空数组的情况</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// l &lt; r 条件，循环结束的时候 r == l,此时直接返回即可</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">l </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    mid </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">l </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">target </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> mid</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">target </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> r</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// return l 都是可以的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/algorithm">algorithm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/leetcode">leetcode</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/binary-search">BinarySearch</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/bs">BS</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/algorithm/binary-search-34">力扣34-在排序数组中查找元素的第一个和最后一个位置[二分法]</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-10-08T00:00:00.000Z">2024年10月8日</time> · <!-- -->阅读需 5 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题">原题<a href="#原题" class="hash-link" aria-label="原题的直接链接" title="原题的直接链接">​</a></h2>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">给你一个按照非递减顺序排列的整数数组 nums，和一个目标值 target。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">请你找出给定目标值在数组中的开始位置和结束位置。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">如果数组中不存在目标值 target，返回 [-1, -1]。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">你必须设计并实现时间复杂度为 O(log n) 的算法解决此问题。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 1：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输入：nums = [5,7,7,8,8,10], target = 8</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输出：[3,4]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 2：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输入：nums = [5,7,7,8,8,10], target = 6</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输出：[-1,-1]</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 3：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输入：nums = [], target = 0</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">&gt; 输出：[-1,-1] :::tip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><ul>
<li>
<p><code>0 &lt;= nums.length &lt;= 10⁵</code></p>
</li>
<li>
<p><code>-10⁹ &lt;= nums[i] &lt;= 10⁹</code></p>
</li>
<li>
<p>nums 是一个非递减数组</p>
</li>
<li>
<p><code>-10⁹ &lt;= target &lt;= 10⁹</code></p>
</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解题思路">解题思路<a href="#解题思路" class="hash-link" aria-label="解题思路的直接链接" title="解题思路的直接链接">​</a></h2>
<p><strong>已知：</strong></p>
<ol>
<li>数组<strong>有序</strong> - 定位 <code>二分法</code></li>
<li>nums</li>
<li>target 值</li>
<li>有可能有<strong>重复元素</strong></li>
</ol>
<p><strong>求：</strong></p>
<ol>
<li>target 出现的<strong>第一个</strong>出现的位置</li>
<li>target 出现的<strong>最后一个</strong>出现位置</li>
</ol>
<p><strong>寻找最左：</strong></p>
<ol>
<li>找到 mid 符合 target  之后，更新 LBoder 为 mid</li>
<li>将 <strong>r 移动到 mid 左边，寻找更左侧的 target</strong></li>
<li>有就继续收缩，没有直接返回 -1</li>
</ol>
<p><strong>寻找最右：</strong></p>
<ol>
<li>找到 mid 符合 target 之后，更新 RBoder 为 mid</li>
<li>将 <strong>l 移动到 mid 右边，寻找更右侧的 target</strong></li>
<li>有就继续收缩，没有直接返回 -1</li>
</ol>
<p><strong>明确隐藏条件：</strong></p>
<ol>
<li>若找不到 first，那么 last 也是不存在，因此<strong>首次判断 first 存在与否再决定是否寻找 last</strong></li>
<li>当能找到 first 时，last 最小也只能是 first，不会出现 -1</li>
<li>检查空数组，空数组直接返回 [-1, -1]</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="解题过程">解题过程<a href="#解题过程" class="hash-link" aria-label="解题过程的直接链接" title="解题过程的直接链接">​</a></h2>
<ol>
<li>初始化左右指针：left = 0, right = len(nums) - 1</li>
<li>二分查找第一个位置<!-- -->
<ul>
<li>如果找到匹配的 target，将 right 指针移到中点的左侧继续查找，直到锁定第一个出现的 target。</li>
</ul>
</li>
<li>二分查找最后一个位置<!-- -->
<ul>
<li>如果找到匹配的 target，将 left 指针移到中点的右侧继续查找，直到锁定最后一个出现的 target。</li>
</ul>
</li>
<li>返回结果：如果没有找到目标值，返回 [-1, -1]</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="复杂度">复杂度<a href="#复杂度" class="hash-link" aria-label="复杂度的直接链接" title="复杂度的直接链接">​</a></h2>
<ul>
<li>
<p>时间复杂度: O(logN)</p>
</li>
<li>
<p>空间复杂度: O(1)</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="代码">代码<a href="#代码" class="hash-link" aria-label="代码的直接链接" title="代码的直接链接">​</a></h2>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">nums</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">target</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">number</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">var</span><span class="token plain"> </span><span class="token function-variable function" style="color:rgb(220, 220, 170)">searchRange</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> target</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 直接检查空数组</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">n </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getFirst</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> target</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// [l, r]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> first </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">l </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">l </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 找到 target 位置后更新 first 位置，收缩右边界，继续向mid左边寻找是否有更左值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">target </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        first </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">target </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> first</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getLast</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">nums</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> target</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// [l, r]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> last </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">l </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">l </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> r</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;&gt;&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 找到 target 位置后更新 last 位置，收缩左边界，继续向mid右边寻找是否有更右值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">target </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        last </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">target </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">mid</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        l </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        r </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> mid </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> last</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> first </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getFirst</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> target</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 如果找不到第一个位置，说明数组中没有这个元素，那么最后一个位置也是找不到的</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 循环条件上理解则是 一旦 left 为 -1了，在循环条件 left &lt;= right这个上， right也只能是 -1 了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">first </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 一旦能够找到第一个位置，那么 last 最小也只能是 first</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)">// 循环条件上理解则是 一旦 left &gt; 0 了，在循环条件 left &lt;= right这个上， right也只能是 &gt; 0 了</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> last </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">getLast</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> target</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> last</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/algorithm">algorithm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/leetcode">leetcode</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/binary-search">BinarySearch</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/bs">BS</a></li></ul></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/algorithm/binary-search">力扣704-二分查找</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-10-08T00:00:00.000Z">2024年10月8日</time> · <!-- -->阅读需 9 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="二分法">二分法<a href="#二分法" class="hash-link" aria-label="二分法的直接链接" title="二分法的直接链接">​</a></h2>
<ol>
<li>适用于<strong>有序</strong>数据集合或者<strong>单调</strong>问题，用于快速查找 target、min、max</li>
<li><strong>不适合</strong>动态数据结构（链表、树）、小规模数据</li>
</ol>
<p><a href="https://leetcode.cn/problems/binary-search/" target="_blank" rel="noopener noreferrer">力扣 704-二分法 🔗</a></p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/algorithm">algorithm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/leetcode">leetcode</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/binary-search">BinarySearch</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/bs">BS</a></li></ul></div><div class="col text--right col--3"><a aria-label="阅读 力扣704-二分查找 的全文" href="/algorithm/binary-search"><b>阅读更多</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/algorithm/minimun-size-subarray-sum">力扣209 - 长度最小子数组[滑动窗口]</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2024-03-18T00:00:00.000Z">2024年3月18日</time> · <!-- -->阅读需 4 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/yanadev.png" alt="Yana Ching"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://yamadev.github.io/" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Yana Ching</span></a></div><small class="authorTitle_nd0D" title="Front End Engineer">Front End Engineer</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="原题描述">原题描述<a href="#原题描述" class="hash-link" aria-label="原题描述的直接链接" title="原题描述的直接链接">​</a></h2>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>给定一个含有 n 个正整数的数组和一个正整数 target 。</p><p>找出该数组中满足其总和大于等于 target 的长度最小的 连续子数组 [numsl, numsl+1, ..., numsr-1, numsr] ，并返回其长度。如果
不存在符合条件的子数组，返回 0 。</p></div></div>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain">：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：target </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">7</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> nums </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：</span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">解释：子数组 </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> 是该条件下的长度最小的子数组。</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 </span><span class="token number" style="color:#B5CEA8">2</span><span class="token plain">：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：target </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> nums </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">4</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：</span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">示例 </span><span class="token number" style="color:#B5CEA8">3</span><span class="token plain">：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输入：target </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">11</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> nums </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token number" style="color:#B5CEA8">1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">输出：</span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">提示：</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> target </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">109</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">105</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token operator" style="color:rgb(212, 212, 212)">*</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">105</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="滑动窗口解法">滑动窗口解法<a href="#滑动窗口解法" class="hash-link" aria-label="滑动窗口解法的直接链接" title="滑动窗口解法的直接链接">​</a></h2>
<p>整体的解题思路是</p>
<ol>
<li>遍历 t 中所有字符，记录所有字符的出现次数</li>
<li>判断 left-right 区间内的值是否包含 t 中所有的元素</li>
<li>如果包含了，判断当前字串与已记录的最小字串，符合更小标准则更新 minL 和 minStart</li>
<li>在已经包含所有 t 中元素的基础上，移动左指针，移动左指针之前将左指针元素加到原来的哈希表中（不影响，因为不在 t 中元素
在哈希表中查询的 结果是 undefined，此时直接加 1，结果就是 NaN，不影响算法结果）</li>
</ol>
<p>优化点：</p>
<ol>
<li>只用了一个哈希表（空间复杂度上减小了）</li>
<li>每次只更新子串的头节点和长度，仅在最后结果时候做字符串截取</li>
</ol>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)">/**</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">string</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">s</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@param</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">string</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment parameter" style="color:#9CDCFE">t</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> * </span><span class="token doc-comment comment keyword" style="color:#C586C0">@return</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> </span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token doc-comment comment class-name" style="color:rgb(78, 201, 176)">string</span><span class="token doc-comment comment class-name punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token doc-comment comment" style="color:rgb(106, 153, 85)"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">minWindow</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token parameter" style="color:#9CDCFE">s</span><span class="token parameter punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token parameter" style="color:#9CDCFE"> t</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> left </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> right </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> required </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> minL </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">Infinity</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> minStart </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">const</span><span class="token plain"> ht </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> ct </span><span class="token keyword" style="color:#C586C0">of</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    ht</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">ct</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">ht</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">ct</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">||</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> n </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token property-access">length</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">right </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// right 指针走完 s 的长度为止</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> retR </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">right</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">ht</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">retR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 如果是t中元素的话，值为数值，而不是 undefined</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      required</span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    ht</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">retR</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token operator" style="color:rgb(212, 212, 212)">--</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)">// 无论是否为 t 中元素，直接自减去哈希值 undefined - 1 = NaN</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    right</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#C586C0">while</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">required </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 判断区间长度是否小于 minL，如果小于则更新 minL、minStart</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">right </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> left </span><span class="token operator" style="color:rgb(212, 212, 212)">&lt;</span><span class="token plain"> minL</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        minL </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> right </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token plain"> left</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        minStart </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> left</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 右移左指针，每次移动都直接增加哈希表中该元素值（undefined + 1 = NaN 不影响算法）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword" style="color:#C586C0">let</span><span class="token plain"> retL </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">left</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      ht</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">retL</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token comment" style="color:rgb(106, 153, 85)">// 若是该哈希值大于零，则 left 所指的元素是 t 中值</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">ht</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">retL</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> required</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">      left</span><span class="token operator" style="color:rgb(212, 212, 212)">++</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#C586C0">return</span><span class="token plain"> minL </span><span class="token operator" style="color:rgb(212, 212, 212)">===</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">Infinity</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> s</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method function property-access" style="color:rgb(220, 220, 170)">substring</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">minStart</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> minStart </span><span class="token operator" style="color:rgb(212, 212, 212)">+</span><span class="token plain"> minL</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/滑动窗口">滑动窗口</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/algorithm">algorithm</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/algorithm/tags/leetcode">leetcode</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">关于我</a></li></ul></div><div class="col footer__col"><div class="footer__title">Frontend</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.csdn.net/VOID_Pointer_G" target="_blank" rel="noopener noreferrer" class="footer__link-item">CSDN<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://juejin.cn/user/3263006244083678" target="_blank" rel="noopener noreferrer" class="footer__link-item">掘金<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">yana的自建博客</a></li><li class="footer__item"><a href="https://github.com/yanadev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>