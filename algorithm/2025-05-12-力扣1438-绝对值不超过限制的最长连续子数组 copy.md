---
slug: longest-subarray-1004
title: 力扣1004-最大连续 1 的个数Ⅲ
authors: yana
tags: [algorithm, leetcode, longestSubarray]
---

## 原题

```text
给定一个二进制数组 nums 和一个整数 k，假设最多可以翻转 k 个 0 ，则返回执行操作后 数组中连续 1 的最大个数 。



示例 1：

输入：nums = [1,1,1,0,0,0,1,1,1,1,0], K = 2
输出：6
解释：[1,1,1,0,0,1,1,1,1,1,1]
粗体数字从 0 翻转到 1，最长的子数组长度为 6。
示例 2：

输入：nums = [0,0,1,1,0,0,1,1,1,0,1,1,0,0,0,1,1,1,1], K = 3
输出：10
解释：[0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1]
粗体数字从 0 翻转到 1，最长的子数组长度为 10。


提示：

1 <= nums.length <= 105
nums[i] 不是 0 就是 1
0 <= k <= nums.length
```

## 分析

1. 问题转换

```text
可以翻转 k 个0，返回数组中连续 1 的最大个数

包含 k个 0 的最长子数组
```

## 解题思路

1. 创建左右指针

   - 移动右指针的时候，记录当前包含 0 的个数 sum_0
   - 一旦符合 `sum_0 > k` 这个条件，队列头部为 1 的时候收缩左区间 l++，queue.shift()

## 伪代码

## 代码

```js
function hhh(nums, k) {
  let l = 0
  let r = 0

  while (r < nums.length) {}
}
```
