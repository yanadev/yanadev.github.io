"use strict";(self.webpackChunkyana_github_io=self.webpackChunkyana_github_io||[]).push([[699],{62612:n=>{n.exports=JSON.parse("{\"archive\":{\"blogPosts\":[{\"id\":\"webpack-path\",\"metadata\":{\"permalink\":\"/chore/webpack-path\",\"source\":\"@site/chore/2020-02-28-webpack-path/index.md\",\"title\":\"webpack-path\",\"description\":\"path \u6a21\u5757\",\"date\":\"2020-02-28T00:00:00.000Z\",\"tags\":[{\"inline\":true,\"label\":\"webpack\",\"permalink\":\"/chore/tags/webpack\"},{\"inline\":true,\"label\":\"path\",\"permalink\":\"/chore/tags/path\"}],\"readingTime\":5.11,\"hasTruncateMarker\":false,\"authors\":[{\"name\":\"Yana Ching\",\"title\":\"Front End Engineer\",\"url\":\"https://yamadev.github.io/\",\"imageURL\":\"https://github.com/yanadev.png\",\"key\":\"yana\",\"page\":null}],\"frontMatter\":{\"slug\":\"webpack-path\",\"title\":\"webpack-path\",\"tags\":[\"webpack\",\"path\"],\"authors\":\"yana\"},\"unlisted\":false,\"nextItem\":{\"title\":\"webpack\",\"permalink\":\"/chore/webpack\"}},\"content\":\"## path \u6a21\u5757\\n\\npath \u6a21\u5757\u662f node.js \u5185\u7f6e\u7684 package\uff0c\u7528\u6765\u5904\u7406\u8def\u5f84\u95ee\u9898\\n\\n## \u5f15\u5165\u6a21\u5757\\n\\n```javascript\\nconst path = require('path') // \u5f15\u5165\u5185\u7f6e\u6a21\u5757 path\\n```\\n\\n## \u83b7\u53d6\u89c4\u8303\u5316\u8def\u5f84 / \u8def\u5f84 / \u6587\u4ef6\u540d / \u6269\u5c55\u540d\\n\\n```javascript\\npath.normalize(filepath) ------------------------------ \u83b7\u53d6\u89c4\u8303\u5316\u8def\u5f84\\npath.dirname(filepath)  ------------------------------ \u83b7\u53d6\u8def\u5f84\\npath.basename(filepath) ------------------------------ \u83b7\u53d6\u6587\u4ef6\u540d\\npath.extname(filepath)  ------------------------------ \u83b7\u53d6\u6269\u5c55\u540d\\n```\\n\\n### \u83b7\u53d6\u89c4\u8303\u5316\u8def\u5f84 path.normalize()\\n\\n- \u89c4\u8303\u5316\u7ed9\u5b9a\u7684\u8def\u5f84\uff0c\u89e3\u6790 '..' \u548c '.' \u7247\u6bb5\\n- \u591a\u4e2a\u8fde\u7eed\u8def\u5f84\u5206\u9694\u7b26\u4f1a\u88ab\u5355\u4e2a\u8def\u5f84\u5206\u9694\u7b26\u66ff\u4ee3\uff0c\u672b\u5c3e\u591a\u4e2a\u5206\u9694\u7b26\u4f1a\u88ab\u4fdd\u7559\\n- \u5982\u8def\u5f84\u662f \u957f\u5ea6\u4e3a\u96f6 \u7684\u5b57\u7b26\u4e32\uff0c\u8fd4\u56de '.'\uff0c\u8868\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\\n\\n```js\\npath.normalize('C:\\\\\\\\temp\\\\\\\\\\\\\\\\foo\\\\\\\\bar\\\\\\\\..\\\\\\\\')\\n// \u8fd4\u56de: 'C:\\\\\\\\temp\\\\\\\\foo\\\\\\\\'\\n```\\n\\n### \u83b7\u53d6\u6240\u5728\u8def\u5f84\\n\\n:::tip `__dirname` \u662f`node.js` \u4e2d\u7684\u4e00\u4e2a\u5168\u5c40\u53d8\u91cf\uff0c\u7528\u6765\u83b7\u53d6`\u5f53\u524d\u6a21\u5757\u6587\u4ef6`\u6240\u5728\u76ee\u5f55\u7684\u5b8c\u6574\u7edd\u5bf9\u8def\u5f84 :::\\n\\n```js\\nvar path = require('path')\\nvar filename = '/tmp/demp/js/test.js'\\ncosnoel.log(path.dirname(filepath))\\n// \u8f93\u51fa\uff1a/tmp/demo/js\\n```\\n\\n![image-20200228024446226](./image-20200228024446226.png)\\n\\n```js\\nvar myPath = path.dirname(__dirname + '/test/util/helloWorld.js')\\nconsole.log(myPath)\\n\\n//Users/cayley/Documents/webpack-demo/test/util\\n```\\n\\n### \u83b7\u53d6\u6587\u4ef6\u540d\\n\\n:::tip \u4e25\u683c\u6765\u8bf4\uff0cpath.basename(filepath) \u53ea\u662f\u8f93\u51fa\u8def\u5f84\u7684\u6700\u540e\u4e00\u90e8\u5206\uff0c\u5e76\u4e0d\u4f1a\u5224\u65ad\u6587\u4ef6\u540d :::\\n\\n```js\\nvar path = require('path')\\nconsole.log(path.basename('tmp/demo/js/test.js')) // test.js\\nconsole.log(path.basename('tmp/demo/js/test/')) // test\\nconsole.log(path.basename('tmp/demo/js/test')) // test\\n```\\n\\n![image-20200228031327206](./image-20200228031327206.png)\\n\\n:::info \u5982\u679c\u4e0d\u60f3\u5305\u62ec\u6587\u4ef6\u6269\u5c55\u540d\uff0c\u53ef\u4f7f\u7528\u7b2c\u4e8c\u4e2a\u53c2\u6570 :::\\n\\n```js\\nconsole.log(path.basename('tmp/demo/js/test.js', '.js')) // test\\n```\\n\\n![image-20200228031613787](./image-20200228031613787.png)\\n\\n### \u83b7\u53d6\u6587\u4ef6\u6269\u5c55\u540d\\n\\n```js\\nvar path = require('path')\\nvar filepath = '/tmp/demo/js/test.js'\\nconsole.log(path.extname(filepath)) // .js\\n```\\n\\n![image-20200228031831335](./image-20200228031831335.png)\\n\\n:::tip \u66f4\u8be6\u7ec6\u7684\u89c4\u5219\u662f\u5982\u4e0b\uff1a\uff08\u5047\u8bbe path.basename(filepath) === B \uff09\\n\\n- \u4ece B \u7684\u6700\u540e\u4e00\u4e2a`.`\u5f00\u59cb\u622a\u53d6\uff0c\u76f4\u5230\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\\n- \u5982\u679c B \u4e2d\u4e0d\u5b58\u5728`.`\uff0c\u6216\u8005 B \u7684\u7b2c\u4e00\u4e2a\u5b57\u7b26\u5c31\u662f`.`\uff0c\u90a3\u4e48\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\\n\\n:::\\n\\n```js\\npath.extname('index.html')\\n// returns '.html'\\n\\npath.extname('index.coffee.md')\\n// returns '.md'\\n\\npath.extname('index.')\\n// returns '.'\\n\\npath.extname('index')\\n// returns ''\\n\\npath.extname('.index')\\n// returns ''\\n```\\n\\n## \u8def\u5f84\u7ec4\u5408\\n\\n- path.join([...paths])\\n\\n- path.resolve([...paths])\\n\\n### path.join([...paths]) -- \u7528\u5206\u9694\u7b26\u8fde\u63a5\\n\\n\u4f7f\u7528\u7279\u5b9a\u7684\u5206\u9694\u7b26\u628a\u8fde\u63a5 path \u7247\u6bb5\uff0c\u5e76**\u89c4\u8303\u5316\u751f\u6210\u7684\u8def\u5f84**\u3002 \u957f\u5ea6\u4e3a\u96f6\u7684 path \u7247\u6bb5\u4f1a\u88ab\u5ffd\u7565\u3002 \u5982\u679c\u8fde\u63a5\u540e\u7684\u8def\u5f84\u5b57\u7b26\u4e32\u662f\u4e00\u4e2a\u957f\\n\u5ea6\u4e3a\u96f6\u7684\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de '.'\uff0c\u8868\u793a\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u3002\\n\\n```js\\npath.join('/foo', 'bar', 'baz/asdf', 'quux', '..')\\n// \u8f93\u51fa '/foo/bar/baz/asdf'\\n```\\n\\n![image-20200228032521758](./image-20200228032521758.png)\\n\\n:::tip path \u5b9a\u4e49\u7684\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a :::\\n\\n```js\\nmodule.exports.join = function () {\\n  var paths = Array.prototye.slice.call(arguments, 0)\\n  return this.normalize(paths.join('/'))\\n}\\n```\\n\\n```js\\npath.join('/foo', 'bar', 'baz/asdf', 'quux', '.')\\n//  \u8fd4\u56de /foo/bar/baz/asdf/quux\\n\\npath.join('/foo', 'bar', 'baz/asdf', 'quux', '.', 'pink')\\npath.join('/foo', 'bar', 'baz/asdf', 'quux', '/', 'pink')\\n// \u8fd4\u56de /foo/bar/baz/asdf/quux/pink           ----------------------- \\\".\\\"\u548c\\\"/\\\"\u6ca1\u4ec0\u4e48\u533a\u522b\\npath.join('/foo', './bar', 'baz/asdf', '.', 'quux')\\n//  \u8fd4\u56de /foo/bar/baz/asdf/quux\\n\\npath.join('/foo', './bar', './baz/asdf', 'quux', '..')\\n//  \u8fd4\u56de /foo/bar/baz/asdf\\n\\npath.join('/foo', 'bar', 'baz/asdf', '.', '.')\\n//  \u8fd4\u56de /foo/bar/baz/asdf\\n\\npath.join('/foo', 'bar', 'baz/asdf', 'quux')\\n//  \u8fd4\u56de /foo/bar/baz/asdf/quux\\n\\npath.join('/foo', 'bar', 'baz/asdf', '..', '..')\\n//  \u8fd4\u56de /foo/bar\\n```\\n\\n### path.resolve([...paths]) -- \u667a\u80fd\u89e3\u6790\u7edd\u5bf9\u8def\u5f84\\n\\n\u628a\u4e00\u4e2a\u8def\u5f84\u6216\u8def\u5f84\u7247\u6bb5\u7684\u5e8f\u5217\u89e3\u6790\u4e3a\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\uff08\u5c42\u7ea7\u5173\u7cfb\u4ece\u5de6\u5230\u53f3\uff09\\n\\n```js\\n// \u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e0e\u5f53\u524d\u6587\u4ef6\u8def\u5f84(F:/1/2/task6/test/dist)\u6709\u533a\u522b\\n\\npath.resolve();                               //  F:/1/2/task6/test \u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\\n\\npath.resolve('./a');                          //  F:/1/2/task6/test/a\\n\\npath.resolve('../a');                         //  F:/1/2/task6/a\\n\\npath.resolve('.');                            //  F:/1/2/task6/test\\n\\npath.resolve('..');                           //  F:/1/2/task6\\n\\npath.resolve('/'));                           //  F:/\\n\\npath.resolve('./a','../c/d');                 //  F:/1/2/task6/test/c/d\\n\\npath.resolve('./a','./c/d');                  //  F:/1/2/task6/test/a/c/d\\n\\npath.resolve('/a','../c/d');                  //  F:c/d\\n\\npath.resolve('/a','./c/d');                   //  F:/a/c/d\\n\\npath.resolve('./a','/b','./c/d');             //  F:/b/c/d\\n\\npath.resolve('a','b','c/d');                  //  F:/1/2/task6/test/a/b/c/d\\n\\npath.resolve('./a','./b','c/d');              //  F:/1/2/task6/test/a/b/c/d\\n\\npath.resolve('./a','/b','c/d');               //  F:/b/c/d\\n\\npath.resolve('./a/b','..','c/d');             //  F:/1/2/task6/test/a/c/d\\n\\npath.resolve('./a','..','c/d');               //  F:/1/2/task6/test/c/d\\n```\\n\\n:::tip\\n\\n1. \u4ee5/\u5f00\u59cb\u7684\u8def\u5f84\u7247\u6bb5\u4f5c\u4e3a\u6839\u76ee\u5f55\uff0c\u5728\u6b64\u4e4b\u524d\u7684\u8def\u5f84\u5c06\u4f1a\u88ab\u4e22\u5f03\\n2. ' . ' \u8fd4\u56de\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\\n3. ' .. ' \u8fd4\u56de\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e0a\u4e00\u7ea7\u7684\u7edd\u5bf9\u8def\u5f84\\n\\n:::\\n\\n:::info\\n\\n1. \u8def\u5f84\u5e8f\u5217\u4ece\u53f3\u5230\u5de6\u5904\u7406\\n2. \u5982\u5904\u7406\u5b8c\u6240\u6709 path \u7247\u6bb5\u8fd8\u672a\u751f\u6210\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\uff0c\u5219\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4f1a\u88ab\u7528\u4e0a\\n3. \u751f\u6210\u7684\u8def\u5f84\u662f\u89c4\u8303\u5316\u540e\u7684\uff0c\u4e14\u672b\u5c3e\u7684\u659c\u6760\u4f1a\u88ab\u5220\u9664\uff0c\u9664\u975e\u8def\u5f84\u88ab\u89e3\u6790\u4e3a\u6839\u76ee\u5f55\\n4. \u957f\u5ea6\u4e3a\u96f6\u7684 path \u7247\u6bb5\u4f1a\u88ab\u5ffd\u7565\\n5. \u6ca1\u6709\u4f20\u5165 path \u7247\u6bb5\uff0c\u5219 path.resolve() \u4f1a\u8fd4\u56de\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684\u7edd\u5bf9\u8def\u5f84\\n6. \u4ee5/\u5f00\u59cb\u7684\u8def\u5f84\u7247\u6bb5\u4f5c\u4e3a\u6839\u76ee\u5f55\uff0c\u5728\u6b64\u4e4b\u524d\u7684\u8def\u5f84\u5c06\u4f1a\u88ab\u4e22\u5f03\\n\\n:::\\n\\n### \u83b7\u53d6\u76f8\u5bf9\u8def\u5f84 path.relative(from, to)\\n\\n`\u8fb9\u754c`\uff1a`from`\u3001`to`\u6307\u5411\u540c\u4e2a\u8def\u5f84\uff0c\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff1b\u82e5`from`\u6216`to`\u4efb\u4e00\u8005\u4e3a\u7a7a\uff0c\u8fd4\u56de\u5f53\u524d\u5de5\u4f5c\u8def\u5f84\\n\\n```js\\nvar path = require('path')\\n\\nvar p1 = path.relative('/data/orandea/test/aaa', '/data/orandea/impl/bbb')\\nconsole.log(p1) // \u8f93\u51fa \\\"../../impl/bbb\\\"\\n\\nvar p2 = path.relative('/data/demo', '/data/demo')\\nconsole.log(p2) // \u8f93\u51fa \\\"\\\"\\n\\nvar p3 = path.relative('/data/demo', '')\\n// => \u5f53\u524d\u5de5\u4f5c\u8def\u5f84 'E:\\\\Develop\\\\nodejs'\\nconsole.log(p3) // \u8f93\u51fa \\\"..\\\\..\\\\Develop\\\\nodejs\\\"\\n```\"},{\"id\":\"webpack\",\"metadata\":{\"permalink\":\"/chore/webpack\",\"source\":\"@site/chore/2020-02-18-webpack/index.md\",\"title\":\"webpack\",\"description\":\"\u603b\u89c8\",\"date\":\"2020-02-18T00:00:00.000Z\",\"tags\":[{\"inline\":true,\"label\":\"webpack\",\"permalink\":\"/chore/tags/webpack\"}],\"readingTime\":11.64,\"hasTruncateMarker\":false,\"authors\":[{\"name\":\"Yana Ching\",\"title\":\"Front End Engineer\",\"url\":\"https://yamadev.github.io/\",\"imageURL\":\"https://github.com/yanadev.png\",\"key\":\"yana\",\"page\":null}],\"frontMatter\":{\"slug\":\"webpack\",\"title\":\"webpack\",\"tags\":[\"webpack\"],\"authors\":\"yana\"},\"unlisted\":false,\"prevItem\":{\"title\":\"webpack-path\",\"permalink\":\"/chore/webpack-path\"}},\"content\":\"## \u603b\u89c8\\n\\n### \u5b89\u88c5\u5305\\n\\n\u8fd0\u884c npm install webpack webpack-cli \u2013D \u547d\u4ee4\uff0c\u5b89\u88c5 webpack \u76f8\u5173\u7684\u5305\\n\\n### \u521d\u59cb\u914d\u7f6e\\n\\n\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\uff0c\u521b\u5efa\u540d\u4e3a webpack.config.js \u7684 webpack \u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u914d\u7f6e\u521d\u59cb\u4fe1\u606f\u5982\u4e0b\uff1a\\n\\n```js\\nmodule.exports = {\\n  mode: 'development', // mode \u7528\u6765\u6307\u5b9a\u6784\u5efa\u6a21\u5f0f\\n}\\n```\\n\\n### \u8bbe\u7f6e\u542f\u52a8\u811a\u672c\\n\\n\u5728 package.json \u914d\u7f6e\u6587\u4ef6\u4e2d\u7684 scripts \u8282\u70b9\u4e0b\uff0c\u65b0\u589e dev \u811a\u672c\uff0c\u811a\u672c\u914d\u7f6e\u5982\u4e0b\uff1a\\n\\n```json\\n{\\n  \\\"scripts\\\": {\\n    \\\"dev\\\": \\\"webpack\\\" // script \u8282\u70b9\u4e0b\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u901a\u8fc7 npm run \u6267\u884c\\n  }\\n}\\n```\\n\\n### \u542f\u52a8\u8c03\u8bd5\\n\\n\u5728\u7ec8\u7aef\u4e2d\u6267\u884c\u884c `npm run dev`\uff0c\u542f\u52a8 webpack \u8fdb\u884c\u9879\u76ee\u6253\u5305\\n\\n## \u914d\u7f6e\u5165\u53e3\u4e0e\u51fa\u53e3\\n\\n:::info webpack \u7684 4.x \u7248\u672c\u4e2d\u9ed8\u8ba4\u7ea6\u5b9a\uff1a\\n\\n- \u6253\u5305\u7684\u5165\u53e3\u6587\u4ef6\u4e3a src -> index.js\\n- \u6253\u5305\u7684\u8f93\u51fa\u6587\u4ef6\u4e3a dist -> main.js :::\\n\\n:::tip \u6dfb\u52a0\u4e00\u4e0b\u914d\u7f6e\u53ef\u4fee\u6539\u6253\u5305\u7684\u5165\u53e3\u53ca\u51fa\u53e3 \\\\_\\\\_dirname \u662f\u5f53\u524d\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55 :::\\n\\n```js\\nmodule.exports = {\\n  entry: path.join(__dirname, './src/index.js'), // \u6253\u5305\u5165\u53e3\u6587\u4ef6\u7684\u8def\u5f84\\n  output: {\\n    path: path.join(__dirname, './dist'), // \u8f93\u51fa\u6587\u4ef6\u7684\u5b58\u653e\u8def\u5f84\\n    filename: 'bundle.js', // \u8f93\u51fa\u6587\u4ef6\u7684\u540d\u79f0\\n  },\\n}\\n```\\n\\n## \u8bbe\u7f6e\u81ea\u52a8\u6253\u5305\\n\\n### \u5305\u5b89\u88c5\\n\\n\u8fd0\u884c npm install webpack-dev-server \u2013D \u547d\u4ee4\uff0c\u5b89\u88c5\u652f\u6301\u9879\u76ee\u81ea\u52a8\u6253\u5305\u7684\u5de5\u5177\\n\\n### \u8bbe\u7f6e\u81ea\u52a8\u6253\u5305\u811a\u672c\\n\\n```json\\n\\\"scripts\\\": {\\n    \\\"dev\\\": \\\"webpack-dev-server\\\" // script \u8282\u70b9\u4e0b\u7684\u811a\u672c\uff0c\u53ef\u4ee5\u901a\u8fc7 npm run \u6267\u884c\\n}\\n```\\n\\n### \u8bbe\u7f6e script \u811a\u672c\u5f15\u7528\u8def\u5f84\\n\\n\u5c06 src -> index.html \u4e2d\uff0cscript \u811a\u672c\u7684\u5f15\u7528\u8def\u5f84\uff0c\u4fee\u6539\u4e3a \\\"/buldle.js\\\"\\n\\n> \u9ed8\u8ba4\u6253\u5305\u51fa\u6765\u7684\u6587\u4ef6\u540d\u79f0\u4e3a bundle.js, \u6b64\u65f6\u4f7f\u7528\u9700\u8981\u624b\u52a8\u5f15\u5165\\n\\n### \u6253\u5305\u8c03\u8bd5\\n\\n\u8fd0\u884c npm run dev \u547d\u4ee4\uff0c\u91cd\u65b0\u8fdb\u884c\u6253\u5305\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee `http://localhost:8080` \u5730\u5740\uff0c\u67e5\u770b\u81ea\u52a8\u6253\u5305\u6548\u679c\\n\\n:::info webpack-dev-server \u4f1a\u542f\u52a8\u4e00\u4e2a\u5b9e\u65f6\u6253\u5305\u7684 http \u670d\u52a1\u5668 webpack-dev-server \u6253\u5305\u751f\u6210\u7684\u8f93\u51fa\u6587\u4ef6\uff0c\u9ed8\u8ba4\u653e\u5230\u4e86\u9879\u76ee\u6839\u76ee\u5f55\\n\u4e2d\uff0c\u800c\u4e14\u662f\u865a\u62df\u7684\u3001\u770b\u4e0d\u89c1\u7684 :::\\n\\n## webpack \u662f\u4ec0\u4e48\uff1f\\n\\n1. webpack \u662f \u6a21\u5757\u52a0\u8f7d\u5668\u517c\u6253\u5305 \u5de5\u5177\\n2. \u80fd\u628a\u5404\u79cd\u8d44\u6e90\uff0c\u4f8b\u5982 JS\uff08\u542b JSX\uff09\u3001coffee\u3001\u6837\u5f0f\uff08\u542b less/sass\uff09\u3001\u56fe\u7247\u7b49\u4f5c\u4e3a `\u6a21\u5757` \u6765\u4f7f\u7528\u548c\u5904\u7406\\n3. \u6838\u5fc3\uff1a`\u4f9d\u8d56\u5206\u6790`\uff0c\u628a\u4f9d\u8d56\u5206\u6790\u51fa\u6765\u4e86\uff0c\u5176\u4ed6\u90fd\u662f\u7ec6\u679d\u672b\u8282\u4e86\\n\\n## webpack \u5b89\u88c5\u7684\u4e24\u79cd\u65b9\u5f0f\\n\\n:::tip \u524d\u63d0\uff1a\u9700\u8981\u5148\u5b89\u88c5 `node` \u548c `npm` \u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406\u9879\u76ee\uff0c\u6700\u597d\u5728\u9879\u76ee\u4e2d\u4e5f\u5305\u542b\u4e00\u4efd\u72ec\u7acb\u7684 `webpack` :::\\n\\n1. \u8fd0\u884c `npm i webpack -g` \u5168\u5c40\u5b89\u88c5 webpack\uff0c\u8fd9\u6837\u5c31\u80fd\u5728\u5168\u5c40\u4f7f\u7528 webpack \u7684\u547d\u4ee4\u4e86\\n2. \u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\u8fd0\u884c `npm i webpack --save-dev` \u5b89\u88c5\u5230\u9879\u76ee\u4f9d\u8d56\u4e2d\\n\\n## webpack \u4f7f\u7528\\n\\n```javascript\\nnpm init -y    // \u521d\u59cb\u5316\u4e00\u4e0b\\nnpm i jquery -S // \u4e0b\u8f7djquery\\n\u5728 main.js \u6587\u4ef6\u4e2d\u5bfc\u5165 jquery\u7b49\u4f9d\u8d56\u6587\u4ef6\\nimport $ from 'jquery' // \u4f7f\u7528 $ \u53d8\u91cf\u63a5\u6536 'jquery'\u6587\u4ef6\uff08ES6\uff09\\n// \u7ec8\u7aef\u4e2d\u4f7f\u7528webpack\u547d\u4ee4\\nwebpack  \u8981\u6253\u5305\u7684\u6587\u4ef6\u7684\u8def\u5f84   \u6253\u5305\u597d\u7684\u8f93\u51fa\u6587\u4ef6\u8def\u5f84\\n```\\n\\n:::tip \u8fd0\u884c\u7ed3\u679c :::\\n\\n```bash\\n\\nHash: feae129c8a9046214e9d  -- \u6253\u5305\u540e\u968f\u673a\u751f\u6210\u7684\u5b57\u7b26\uff0c\u53ef\u5f53\u505a\u7248\u672c\u7ba1\u7406\\nVersion: webpack 4.41.6    -- webpack \u7248\u672c\\nTime: 379ms\\nBuilt at: 2020-02-18 6:37:08 PM\\n    Asset     Size  Chunks                    Chunk Names\\nbundle,js  279 KiB       0  [emitted]  [big]  main\\nEntrypoint main [big] = bundle,js\\n[1] ./main.js 478 bytes {0} [built]\\n    + 1 hidden module\\n```\\n\\n## \u914d\u7f6e\u6587\u4ef6(\u6700\u57fa\u672c\u4f7f\u7528\u6848\u4f8b)\\n\\n\u4f7f\u7528`webpack.config.js`\u914d\u7f6e\u6587\u4ef6\uff0c\u8bbe\u7f6e `webpack` \u547d\u4ee4\\n\\n\u201c\u9694\u884c\u53d8\u8272\u201d\u6848\u4f8b\u91cd\u70b9\uff1a \u5c06 `main.js` \u6587\u4ef6\u6253\u5305\u6210 `main.bundle.js`\\n\\n\u6587\u4ef6\u8def\u5f84\uff1a\\n\\n![image-20200218222513510](./image-20200218222513510.png)\\n\\n:::tip index.html :::\\n\\n```html\\n<!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n  <head>\\n    <meta charset=\\\"UTF-8\\\" />\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\" />\\n    <meta http-equiv=\\\"X-UA-Compatible\\\" content=\\\"ie=edge\\\" />\\n    <title>Document</title>\\n    <script src=\\\"./dist/main.bundle.js\\\"><\/script>\\n    \x3c!-- <script src=\\\"index.js\\\"><\/script> --\x3e\\n    \x3c!-- \u6ce8\u610f\uff1a\u4e0d\u63a8\u8350\u76f4\u63a5\u5728\u8fd9\u91cc\u5f15\u7528\u4efb\u4f55\u5305\u548c\u4efb\u4f55CSS\u6587\u4ef6 --\x3e\\n  </head>\\n  <body>\\n    <ul>\\n      <li>\u8fd9\u662f\u7b2c1\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c2\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c3\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c4\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c5\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c6\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c7\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c8\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c9\u4e2ali</li>\\n      <li>\u8fd9\u662f\u7b2c10\u4e2ali</li>\\n    </ul>\\n  </body>\\n</html>\\n```\\n\\n:::tip main.js :::\\n\\n```javascript\\n// \u8fd9\u4e2a main.js \u662f\u6211\u4eec\u9879\u76ee\u7684 JS \u5165\u53e3\u6587\u4ef6\\n\\n// 1. \u5bfc\u5165jquery\\n// import *** from *** \u662f ES6 \u4e2d\u5bfc\u5165\u6a21\u5757\u7684\u65b9\u5f0f\\n// \u7531\u4e8e ES6 \u7684\u4ee3\u7801\u592a\u9ad8\u7ea7\u4e86\uff0c\u6d4f\u89c8\u5668\u89e3\u6790\u4e0d\u4e86\uff0c\u6240\u4ee5\uff0c\u8be5\u884c\u6267\u884c\u4f1a\u62a5\u9519\\n//  \u5bfc\u5165 jquery\\nimport $ from 'jquery' // \u4f7f\u7528 $ \u53d8\u91cf\u540d\u63a5\u6536jquery\u6587\u4ef6\\n\\n$(function () {\\n  $('li:odd').css('backgroundColor', 'pink')\\n  $('li:even').css('backgroundColor', function () {\\n    return '#' + '#e2e22e'\\n  })\\n})\\n```\\n\\n:::tip webpack.config.js :::\\n\\n```javascript\\nconst path = require('path')\\nmodule.exports = {\\n  entry: {\\n    main: './src/main.js',\\n    // path: path.join(__dirname, \\\"./src/index.js\\\"),\\n  },\\n  output: {\\n    path: path.join(__dirname, './dist'), // \u8f93\u51fa\u6587\u4ef6\u8def\u5f84\\n    filename: '[name].bundle.js', // \u8f93\u51fa\u6587\u4ef6\u540d\uff0c[name]\u8868\u793a\u5165\u53e3\u6587\u4ef6js\u540d => 'main'\\n  },\\n}\\n```\\n\\n## webpack-dev-server \u5b9e\u73b0\u81ea\u52a8\u6253\u5305\u7f16\u8bd1\\n\\n### \u5b89\u88c5\u65b9\u5f0f\u4e00\uff1a\u76f4\u63a5\u5b89\u88c5\u5305\\n\\n\u8fd0\u884c npm i webpack-dev-server -D \u628a\u5de5\u5177\u5b89\u88c5\u5230\u9879\u76ee\u7684\u672c\u5730\u5f00\u53d1\u4f9d\u8d56\\n\\n:::tip \u7531\u4e8e\u53ea\u662f\u5728\u672c\u9879\u76ee\u4e2d\uff0c\u672c\u5730\u5b89\u88c5\u7684 webpack-dev-server \uff0c\u56e0\u6b64\u65e0\u6cd5\u628a\u5b83\u5f53\u505a\u811a\u672c\u547d\u4ee4\u5728 powershell \u7ec8\u7aef\u4e2d\u76f4\u63a5\u8fd0\u884c\uff08\u53ea\u6709\u5b89\\n\u88c5\u5230 \u5168\u5c40 -g \u7684\u5de5\u5177\uff0c\u624d\u80fd\u5728 \u7ec8\u7aef \u4e2d\u6b63\u5e38\u6267\u884c\uff09\\n\\nwebpack-dev-server \u6253\u5305\u751f\u6210\u7684 bundle.js \u4ee5\u865a\u62df\u5f62\u5f0f\u6258\u7ba1\u5230\u4e86 \u9879\u76ee\u7684\u6839\u76ee\u5f55\uff08\u7535\u8111\u5185\u5b58\u4e2d\u800c\u975e\u78c1\u76d8\uff09\u4e2d\u867d\u7136\u770b\u4e0d\u5230\u4f46\u662f\uff0c\u53ef\u4ee5\u8ba4\u4e3a\\n\u548c dist src node_module \u5e73\u7ea7 :::\\n\\n![image-20200218225059167](./image-20200218225059167.png)\\n\\n```bash\\nnpm run dev // \u5728\u7ec8\u7aef\u4e2d\u6267\u884c\u8be5\u547d\u4ee4\\nctrl+C  // \u9000\u51fa webpack-dev-server\\n```\\n\\n![image-20200228001817279](./image-20200228001817279.png)\\n\\n### \u5b89\u88c5\u65b9\u5f0f\u4e8c\uff1a\u4ee5\u914d\u7f6e\u6587\u4ef6\u65b9\u5f0f\u4fdd\u5b58\uff08webpack.config.js\uff09\\n\\n1. \u4fee\u6539`webpack.config.js`\u6587\u4ef6\uff0c\u65b0\u589e`devServer`\u8282\u70b9\u5982\u4e0b\uff1a\\n\\n   ```js\\n   devServer:{\\n       hot:true,\\n       open:true,\\n       port:4321\\n   }\\n   ```\\n\\n2. \u5728\u5934\u90e8\u5f15\u5165`webpack`\u6a21\u5757\uff1a\\n\\n   ```js\\n   var webpack = require('webpack')\\n   ```\\n\\n3. \u5728`plugins`\u8282\u70b9\u4e0b\u65b0\u589e\uff1a\\n\\n   ```js\\n   new webpack.HotModuleReplacementPlugin()\\n   ```\\n\\n   ![image-20200228001922424](./image-20200228001922424.png)\\n\\n   ![image-20200228010215921](./image-20200228010215921.png)\\n\\n## webpack-dev-server \u5e38\u7528\u547d\u4ee4\\n\\n- webpack-dev-server --open // \u4fdd\u5b58\u7684\u65f6\u5019\u81ea\u52a8\u6253\u5f00\u7a97\u53e3\\n- webpack-dev-server --host 127.0.0.1 // \u914d\u7f6e IP \u5730\u5740\\n- webpack-dev-server --port 3000 // \u8bbe\u7f6e\u7aef\u53e3 3000\\n- webpack-dev-server --open --port 3000 // \u8bbe\u7f6e\u7aef\u53e3\u53f7\u4e3a 3000 \u5e76\u81ea\u52a8\u6253\u5f00\\n- webpack-dev-server --contentBase src // \u6253\u5f00\u76ee\u5f55 src\\n- webpack-dev-server --hot // \u70ed\u5904\u7406\uff1a\u53ea\u66f4\u65b0\u90e8\u5206\u4fee\u6539\u7684\u4ee3\u7801\uff0c\u4e0d\u91cd\u65b0\u751f\u6210\u6587\u4ef6\uff0c\u51cf\u5c11\u635f\u8017\uff1b\u540c\u65f6\u5b9e\u73b0\u9875\u9762\u5f02\u6b65\u66f4\u65b0\uff08\u4e0d\u5237\u65b0\u9875\u9762\u4f46\\n  \u4fee\u6539\u9875\u9762\u5185\u5bb9(\u6837\u5f0f)\uff09\\n\\n![image-20200218235149200](./image-20200218235149200.png)\\n\\n## \u4f7f\u7528 html-webpack-plugin \u63d2\u4ef6\u914d\u7f6e\u542f\u52a8\u9875\u9762\\n\\n\u7531\u4e8e\u4f7f\u7528 `--contentBase` \u6307\u4ee4\u7684\u8fc7\u7a0b\u6bd4\u8f83\u7e41\u7410\uff0c\u9700\u8981\u5236\u5b9a\u542f\u52a8\u7684\u76ee\u5f55\uff0c\u540c\u65f6\u9700\u8981\u4fee\u6539 index.html \u4e2d\u7684 script \u6807\u7b7e\u7684 src \u5c5e\u6027\uff0c\u56e0\\n\u6b64\u66f4\u52a0\u63a8\u8350\u4f7f\u7528 `html-webpack-plugin` \u63d2\u4ef6\u914d\u7f6e\u542f\u52a8\u9875\u9762\\n\\n1. \u8fd0\u884c `cnpm i html-webpack-plugin --save-dev` \u5b89\u88c5\u5230\u5f00\u53d1\u4f9d\u8d56\\n2. \u4fee\u6539 `webpack.condig.js` \u914d\u7f6e\u6587\u4ef6\u5982\u4e0b\\n\\n```js\\n// \u5bfc\u5165\u5904\u7406\u8def\u5f84\u7684\u6a21\u5757\\nvar path = require('path')\\n// \u5bfc\u5165\u81ea\u52a8\u751f\u6210 HTML \u6587\u4ef6\u7684\u63d2\u4ef6\\nvar htmlWebpackPlugin = reuqire('html-webpack-plugin')\\nmodule.exports = {\\n  entry: path.resolve(__dirname, 'src/js/main.js'), // \u9879\u76ee\u5165\u53e3\u6587\u4ef6\\n  output: {\\n    // \u914d\u7f6e\u8f93\u51fa\u9009\u9879\\n    path: path.resolve(__dirname, 'dist'), // \u914d\u7f6e\u8f93\u51fa\u7684\u8def\u5f84\\n    filename: 'bundle.js', // \u914d\u7f6e\u8f93\u51fa\u7684\u6587\u4ef6\u540d\\n  },\\n  plugins: [\\n    // \u6dfb\u52a0 plugins \u8282\u70b9\u914d\u7f6e\u63d2\u4ef6\\n    new htmlWebpackPlugin({\\n      template: path.resolve(__dirname, 'src/index.html'), // \u6a21\u677f\u8def\u5f84\\n      filename: 'index.html', //\u81ea\u52a8\u751f\u6210\u7684 HTML \u6587\u4ef6\u7684\u540d\u79f0\\n    }),\\n  ],\\n}\\n```\\n\\n## \u4f7f\u7528 webpack \u6253\u5305 css \u6587\u4ef6\\n\\n:::tip\\n\\n- webpack \u9ed8\u8ba4\u53ea\u80fd\u6253\u5305\u5904\u7406 JS \u7c7b\u578b\u7684\u6587\u4ef6\uff0c\u65e0\u6cd5\u5904\u7406\u5176\u4ed6\u7684\u975e JS \u7c7b\u578b\u7684\u6587\u4ef6\\n- \u5982\u679c\u8981\u5904\u7406 \u975e JS \u7c7b\u578b\u7684\u6587\u4ef6\uff0c\u9700\u8981\u624b\u52a8\u5b89\u88c5\u4e00\u4e9b \u5408\u9002 \u7b2c\u4e09\u65b9 loader \u52a0\u8f7d\u5668\\n  - \u9700\u8981\u5b89\u88c5 cnpm i style-loader css-loader -D\\n  - webpack.config.js \u914d\u7f6e\u6587\u4ef6\uff0c\u65b0\u589e\u914d\u7f6e\u8282\u70b9 module \u5bf9\u8c61\uff0c\u8be5\u5bf9\u8c61\u7684 rules \u5c5e\u6027\u662f\u4e00\u4e2a\u6570\u7ec4\uff0c\u5b58\u653e\u4e86\u6240\u6709\u7b2c\u4e09\u65b9\u6587\u4ef6\u7684\u5339\u914d\u548c\u5904\\n    \u7406\u89c4\u5219\\n\\n:::\\n\\n1. \u8fd0\u884c`cnpm i style-loader css-loader --save-dev`\\n2. \u4fee\u6539`webpack.config.js`\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\uff1a\\n\\n   ```js\\n   module: {\\n     // \u7528\u6765\u914d\u7f6e\u7b2c\u4e09\u65b9loader\u6a21\u5757\u7684\\n     rules: [\\n       // \u6587\u4ef6\u7684\u5339\u914d\u89c4\u5219\\n       { test: /\\\\.css$/, use: ['style-loader', 'css-loader'] }, //\u5904\u7406css\u6587\u4ef6\u7684\u89c4\u5219\\n     ]\\n   }\\n   // test => \u5339\u914d\u7684\u6587\u4ef6\u7c7b\u578b ; use => \u8981\u8c03\u7528\u7684loader\uff08\u987a\u5e8f\u56fa\u5b9a\uff0c\u4ece\u540e\u5f80\u524d\u8c03\u7528 \uff09\\n   ```\\n\\n3. \u6ce8\u610f\uff1a`use`\u8868\u793a\u4f7f\u7528\u54ea\u4e9b\u6a21\u5757\u6765\u5904\u7406`test`\u6240\u5339\u914d\u5230\u7684\u6587\u4ef6\uff1b`use`\u4e2d\u76f8\u5173 loader \u6a21\u5757\u7684\u8c03\u7528\u987a\u5e8f\u662f\u4ece\u540e\u5411\u524d\u8c03\u7528\u7684\uff1b\\n\\n## \u4f7f\u7528 webpack \u6253\u5305 less \u6587\u4ef6\\n\\n1. \u8fd0\u884c`cnpm i less-loader less -D`\\n2. \u4fee\u6539`webpack.config.js`\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\uff1a\\n\\n   ```js\\n   { test: /\\\\.less$/, use: ['style-loader', 'css-loader', 'less-loader'] },\\n   ```\\n\\n## \u4f7f\u7528 webpack \u6253\u5305 scss \u6587\u4ef6\\n\\n1. \u8fd0\u884c`cnpm i sass-loader node-sass --save-dev`\\n2. \u5728`webpack.config.js`\u4e2d\u6dfb\u52a0\u5904\u7406 sass \u6587\u4ef6\u7684 loader \u6a21\u5757\uff1a\\n\\n```js\\n{ test: /\\\\.scss$/, use: ['style-loader', 'css-loader', 'sass-loader'] }\\n// \u8be5loader\u540d\u4e3a\uff1a sass-loader\uff0c\u4f46\u662f\u6587\u4ef6\u540e\u7f00\u540d\u4e3a\uff1a.scss\\n```\\n\\n## \u4f7f\u7528 webpack \u5904\u7406 css \u4e2d\u7684\u8def\u5f84\\n\\n1. \u8fd0\u884c`cnpm i url-loader file-loader --save-dev`\\n2. \u5728`webpack.config.js`\u4e2d\u6dfb\u52a0\u5904\u7406 url \u8def\u5f84\u7684 loader \u6a21\u5757\uff1a\\n\\n   ```js\\n   { test: /\\\\.(png|jpg|gif)$/, use: 'url-loader' }\\n   ```\\n\\n3. \u53ef\u4ee5\u901a\u8fc7`limit`\u6307\u5b9a\u8fdb\u884c base64 \u7f16\u7801\u7684\u56fe\u7247\u5927\u5c0f\uff1b\u53ea\u6709\u5c0f\u4e8e\u6307\u5b9a\u5b57\u8282\uff08byte\uff09\u7684\u56fe\u7247\u624d\u4f1a\u8fdb\u884c base64 \u7f16\u7801\uff1a\\n\\n   ```js\\n   { test: /\\\\.(png|jpg|gif)$/, use: 'url-loader?limit=43960' },\\n   ```\\n\\n## \u914d\u7f6e postCSS \u81ea\u52a8\u6dfb\u52a0 css \u7684\u517c\u5bb9\u524d\u7f00\\n\\n:::tip\\n\\n1. \u5b89\u88c5\u4f9d\u8d56 npm i postcss-loader autoprefixer -D\\n\\n2. \u9879\u76ee\u6839\u76ee\u5f55\u4e2d\u521b\u5efa\u914d\u7f6e\u6587\u4ef6 postcss.config.js\uff0c\u5e76\u914d\u7f6e\u4e00\u4e0b\u4fe1\u606f\\n\\n:::\\n\\n```js\\nconst autoprefixer = require('autoprefixer')\\nmodule.exports = {\\n    plugins: [ autoprefixer ] // \u6302\u8f7d\u63d2\u4ef6\\n}\\nwebpack.config.js \u7684 module -> rules \u6570\u7ec4\u4e2d\uff0c\u4fee\u6539 css \u7684 loader \u89c4\u5219\uff1a\\nmodule: {\\n    rules: [\\n        {test: /\\\\.css$/, use: ['stye.loader', 'css-loader', 'postcss-loader']}\\n    ]\\n}\\n```\\n\\n:::danger \u5b89\u88c5 postCSS \u7684\u65f6\u5019\u62a5\u9519\u627e\u4e0d\u5230 `style-loader` \uff0c\u539f\u56e0\u662f `style-loader`\u5168\u5c40\u5b89\u88c5\uff0c\u9700\u8981\u5728\u672c\u9879\u76ee\u4e2d\u5b89\u88c5\\n`cnpm install css-loader style-loader --save` :::\\n\\n## \u6253\u5305\u5904\u7406 js \u6587\u4ef6\u4e2d\u7684\u9ad8\u7ea7\u8bed\u6cd5\\n\\n1. \u5b89\u88c5 babel \u8f6c\u6362\u5668\u76f8\u5173\u7684\u5305\uff1anpm i babel-loader @babel/core @babel/runtime -D\\n2. \u5b89\u88c5 babel \u8bed\u6cd5\u63d2\u4ef6\u76f8\u5173\u7684\u5305\uff1a npm i @babel/preset-env @babel/plugin-transform-runtime\\n   @babel/plugin-proposal-class-properties -D\\n3. \u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e2d\uff0c\u521b\u5efa babel \u914d\u7f6e\u6587\u4ef6 babel.config.js\\n\\n   :::tip \u59cb\u5316\u57fa\u672c\u914d\u7f6e\u5982\u4e0b :::\\n\\n   ```js\\n   module.exports = {\\n     presets: ['@babel/preset-env'],\\n     plugins: ['@babel/plugin-transform-runtime', '@babel/plugin-proposal-class-properties'],\\n   }\\n   ```\\n\\n4. \u5728 webpack.config.js \u7684 module -> rules \u6570\u7ec4\u4e2d\uff0c\u6dfb\u52a0 loader \u89c4\u5219 :::tip \u89c4\u5219\u5982\u4e0b\uff1a :::\\n\\n```js\\n  // exclude \u4e3a\u6392\u9664\u9879\uff0c\u8868\u793a babel-loader \u4e0d\u9700\u8981\u5904\u7406 node_modules \u4e2d\u7684 js \u6587\u4ef6\\n    { test: /\\\\.js$/, use: 'babel-loader', exclude: /node_modules/ }\\n```\"}]}}")}}]);