"use strict";(self.webpackChunkyana_github_io=self.webpackChunkyana_github_io||[]).push([[544],{42950:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>u,toc:()=>c});var s=t(74848),a=t(28453);const i={slug:"github-action-ci",title:"\u81ea\u52a8\u5316\u90e8\u7f72\u811a\u672c",authors:"yana",date:new Date("2024-05-06T00:00:00.000Z"),tags:["github","action","yml","blog"]},o=void 0,u={permalink:"/github-action-ci",source:"@site/blog/2024-10-10-github-action-ci.md",title:"\u81ea\u52a8\u5316\u90e8\u7f72\u811a\u672c",description:"\u901a\u7528\u7248\u672c",date:"2024-05-06T00:00:00.000Z",tags:[{inline:!0,label:"github",permalink:"/tags/github"},{inline:!0,label:"action",permalink:"/tags/action"},{inline:!0,label:"yml",permalink:"/tags/yml"},{inline:!0,label:"blog",permalink:"/tags/blog"}],readingTime:1.425,hasTruncateMarker:!1,authors:[{name:"Yana Ching",title:"Front End Engineer",url:"https://yamadev.github.io/",imageURL:"https://github.com/yanadev.png",key:"yana",page:null}],frontMatter:{slug:"github-action-ci",title:"\u81ea\u52a8\u5316\u90e8\u7f72\u811a\u672c",authors:"yana",date:"2024-05-06T00:00:00.000Z",tags:["github","action","yml","blog"]},unlisted:!1,prevItem:{title:"shopify \u542f\u52a8\u5931\u8d25",permalink:"/shopify-dev-error"},nextItem:{title:"MERN \u5168\u6808\u9879\u76ee\u642d\u5efa",permalink:"/mern-stack-dev"}},l={authorsImageUrls:[void 0]},c=[{value:"\u901a\u7528\u7248\u672c",id:"\u901a\u7528\u7248\u672c",level:2},{value:"\u9700\u8981\u81ea\u5b9a\u4e49\u9879\u76ee secret\uff0c\u5728\u8d26\u6237 setting \u4e2d\u751f\u6210 personal access token (classic)",id:"\u9700\u8981\u81ea\u5b9a\u4e49\u9879\u76ee-secret\u5728\u8d26\u6237-setting-\u4e2d\u751f\u6210-personal-access-token-classic",level:2}];function r(e){const n={code:"code",h2:"h2",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"\u901a\u7528\u7248\u672c",children:"\u901a\u7528\u7248\u672c"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:"name: Deploy Docusaurus Blog to GitHub Pages\n\non:\n  push:\n    branches:\n      - master # \u4f60\u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u4e3a\u4f60\u60f3\u8981\u89e6\u53d1\u90e8\u7f72\u7684\u5206\u652f\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      # Step 1: \u68c0\u51fa\u4ed3\u5e93\n      - name: Checkout repository\n        uses: actions/checkout@v2\n\n      # Step 2: \u8bbe\u7f6e Node.js \u7248\u672c\n      - name: Set up Node.js\n        uses: actions/setup-node@v2\n        with:\n          node-version: '18'\n\n      # Step 3: \u5b89\u88c5\u4f9d\u8d56\n      - name: Install dependencies\n        run: yarn\n\n      # Step 4: \u6784\u5efa\u9759\u6001\u6587\u4ef6\n      - name: Build static files\n        run: yarn build\n\n      # Step 5: \u90e8\u7f72\u5230 GitHub Pages\n      - name: Deploy to GitHub Pages\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }} # \u4f7f\u7528 GitHub \u5185\u7f6e\u7684 GITHUB_TOKEN\n          publish_dir: build # \u6307\u5b9a\u6784\u5efa\u540e\u7684\u9759\u6001\u6587\u4ef6\u76ee\u5f55\n          user_name: yanadev # \u586b\u5165\u4f60\u7684 GitHub \u7528\u6237\u540d\n          user_email: 1245485816@qq.com # \u586b\u5165\u4f60\u7684\u90ae\u7bb1\n          commit_message: 'Deploy Docusaurus blog to GitHub Pages'\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u9700\u8981\u81ea\u5b9a\u4e49\u9879\u76ee-secret\u5728\u8d26\u6237-setting-\u4e2d\u751f\u6210-personal-access-token-classic",children:"\u9700\u8981\u81ea\u5b9a\u4e49\u9879\u76ee secret\uff0c\u5728\u8d26\u6237 setting \u4e2d\u751f\u6210 personal access token (classic)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yml",children:"name: Deploy Docusaurus Blog to GitHub Pages\n\non:\n  push:\n    branches:\n      - master # \u53ef\u4ee5\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u5206\u652f\u540d\u79f0\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      - name: Checkout repository\n        uses: actions/checkout@v2\n\n      - name: Set up Node.js\n        uses: actions/setup-node@v2\n        with:\n          node-version: '18'\n\n      - name: Install dependencies\n        run: yarn\n\n      - name: Build static files\n        run: yarn build\n\n      - name: Deploy to GitHub Pages\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.ACCESS_TOKEN }}\n          publish_dir: build\n          user_name: yanadev\n          user_email: 1245485816@qq.com\n          commit_message: 'Deploy Docusaurus blog to GitHub Pages'\n"})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>u});var s=t(96540);const a={},i=s.createContext(a);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function u(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);